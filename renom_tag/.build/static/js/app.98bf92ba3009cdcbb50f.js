webpackJsonp([1],{"/dnv":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIwLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuODrOOCpOODpOODvF8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgODQxLjkgNTk1LjMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDg0MS45IDU5NS4zOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzBCMzU1RTt9Cjwvc3R5bGU+CjxnPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MzEuMiw1MzJjLTE4LjgsMC0zMy45LTUuNC00NC44LTE1LjljLTExLTEwLjctMTYuNi0yNS40LTE2LjYtNDMuOWMwLTE5LDUuNS0zNCwxNi40LTQ0LjQKCQkJCWMxMC43LTEwLjIsMjUuOS0xNS40LDQ1LTE1LjRjMTguNiwwLDMzLjYsNS4zLDQ0LjQsMTUuOGMxMC45LDEwLjYsMTYuNSwyNS40LDE2LjUsNDRjMCwxOC01LjYsMzIuNy0xNi41LDQzLjUKCQkJCUM0NjQuNyw1MjYuNSw0NDkuOCw1MzIsNDMxLjIsNTMyeiBNNDc3LjQsMzYxaC05MS44TDM3MC4yLDY2LjFoMTIyLjZMNDc3LjQsMzYxeiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8L3N2Zz4K"},"0lA4":function(t,e){},"1/oy":function(t,e){},"28jk":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIwLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuODrOOCpOODpOODvF8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgODQxLjkgNTk1LjMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDg0MS45IDU5NS4zOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6bm9uZTtzdHJva2U6ICMxZTI2NGI7c3Ryb2tlLXdpZHRoOjkzLjEzODg7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fQo8L3N0eWxlPgo8Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI0MjEuNSIgY3k9IjI5OC4yIiByPSIyMzMuMyIvPgo8L3N2Zz4K"},"4u8M":function(t,e){},"5R8y":function(t,e){},"5W1q":function(t,e){},"9M+g":function(t,e){},Argu:function(t,e,i){t.exports=i.p+"static/img/addnewtag.15e0f27.png"},BVtl:function(t,e){},CHRi:function(t,e){},GfHa:function(t,e){},GiuW:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIwLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuODrOOCpOODpOODvF8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgODQxLjkgNTk1LjMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDg0MS45IDU5NS4zOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzBCMzU1RTt9Cgkuc3Qxe2ZpbGw6bm9uZTtzdHJva2U6I0ZGRkZGRjtzdHJva2Utd2lkdGg6MzguMDI4NDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9Cjwvc3R5bGU+CjxyZWN0IHg9IjE0My42IiB5PSIyMC45IiBjbGFzcz0ic3QwIiB3aWR0aD0iNTU0LjkiIGhlaWdodD0iNTU0LjkiLz4KPGNpcmNsZSBjbGFzcz0ic3QxIiBjeD0iNDIxLjEiIGN5PSIyOTguMyIgcj0iMTM3LjYiLz4KPC9zdmc+Cg=="},HWtw:function(t,e){},Id91:function(t,e){},Jmt5:function(t,e){},LGmM:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=i("VU/8")({name:"App"},s,!1,function(t){i("5R8y")},null,null).exports,o=i("/ocq"),r=i("Dd8w"),l=i.n(r),c=i("NYxO"),u={CLASSIFICATION:0,DETECTION:1,SEGMENTATION:2},d={SERVER_CONNECTION:{code:0,message:"ERROR\n\n Failed to connect server"},DUP_FILE:{code:2,message:'ERROR\n\n The following files could not be loaded, because there are files which have the same name but different extensions.  \n\n Only one file can be loaded with the same filename base and the priority is   \n\n "jpg > jpeg > png > bmp"   \n\n Please change the filename of: \n'},UNDEF_FILE:{code:3,message:"ERROR\n\n The following filenames are unavailable, which could not be loaded. \n\n Please change the filename of: \n"},MAKE_DIR:{NG_PATH:{code:110,message:"ERROR\n\n The current directory is unavailable. \n Please choose another directory. \n\n Load again to start."},NG_USERNAME:{code:113,message:"ERROR\n\n The username is unavailable. \n Please use only halfwidth-alphanumeric (0-9, a-z, A-Z) and under-bar (_). \n\n Load again to start."}},DELETION:{XML:{code:120,message:"Xml deletion failed!"},PNG:{code:130,message:"Png deletion failed!"}}},g={LOADING:{code:105,message:"Loading images..."},NO_IMG:{code:100,message:"No images found."}},_={MAKE_DIR:{INITIAL:{code:115,message:'NOTICE\n\n No folder named "public" in the current directory.\n Would you like to create the directories?'},SUCCESS:{code:111,message:"NOTICE\n\n Successfully created directories!\n\n Load again to start."}},DELETION:{XML:{SUCCESS:{code:121,message:"Xml deletion successful!"}},PNG:{SUCCESS:{code:131,message:"Png deletion successful!"}}}},m={name:"AppHeader",data:function(){return{TASK_ID:u,Menu:i("fGH6")}},computed:l()({},Object(c.d)(["is_admin","username","current_task"])),methods:l()({},Object(c.b)(["initClient"]),Object(c.c)(["setMainMenuVisible","setCurrentTask"]),{toggleMenuVisible:function(){var t=this.$store.state.main_menu_visible;this.setMainMenuVisible({visible:!t})}})},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",[i("div",{attrs:{id:"menu-title"}},[i("img",{attrs:{id:"hanburger-menu",src:t.Menu,"aria-hidden":"true"},on:{click:t.toggleMenuVisible}}),t._v(" "),i("div",{attrs:{id:"tool-name"}},[i("span",{staticClass:"renom"},[t._v("ReNomTAG")]),t._v(" "),t.is_admin?i("span",{staticClass:"current-page"},[t._v(" > "+t._s(t.username)+" > Admin")]):i("span",{staticClass:"current-page"},[t._v(" > "+t._s(t.username)+" > Main")])])]),t._v(" "),i("div",{attrs:{id:"task-buttons"}},[i("div",{class:{selectedTask:t.current_task===t.TASK_ID.DETECTION},attrs:{id:"detection-button"},on:{click:function(e){t.setCurrentTask(t.TASK_ID.DETECTION),t.initClient()}}},[t._v("\n      Detection\n    ")]),t._v(" "),i("div",{class:{selectedTask:t.current_task===t.TASK_ID.SEGMENTATION},attrs:{id:"segmentation-button"},on:{click:function(e){t.setCurrentTask(t.TASK_ID.SEGMENTATION),t.initClient()}}},[t._v("\n      Segmentation\n    ")])])])},staticRenderFns:[]};var h=i("VU/8")(m,v,!1,function(t){i("bpzI")},null,null).exports,f=i("BO1k"),p=i.n(f),b=i("d7EF"),y=i.n(b),I="";function x(t){return I.length?I+t:t}function w(t,e,i){var a=null;if("string"==typeof i){var s=i;for(var n in t)if(t[n].label===s){a=n;break}}else"number"==typeof i&&(a=i);return e[a%10]}function C(t,e){return t<e?t:e}function k(t,e){return t>e?t:e}function S(t,e){var i=t.getBoundingClientRect(),a=[],s=!0,n=!1,o=void 0;try{for(var r,l=p()(e);!(s=(r=l.next()).done);s=!0){var c=r.value,u=y()(c,2),d=u[0],g=u[1];a.push([d-i.left+t.scrollLeft,g-i.top+t.scrollTop])}}catch(t){n=!0,o=t}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}return a}function N(t){var e=y()(t,4),i=e[0],a=e[1],s=e[2],n=e[3];return[C(i,s),C(a,n),k(i,s),k(a,n)]}function M(t,e,i){var a=N(t),s=y()(a,4),n=s[0],o=s[1],r=s[2],l=s[3];return e>=n&&e<r&&i>=o&&i<l}function T(t,e,i,a){t.addEventListener(e,function s(n){t.removeEventListener(e,s,a),i(n)},a)}function E(t){for(var e=d.UNDEF_FILE.message,i=Math.min(3,t.length),a=0;a<i;a++)e=e.concat(t[a]),a!=i-1&&(e=e.concat(", \n")),3===i&&a===i-1&&(e=e.concat("\netc..."));return e}function O(t){for(var e=d.DUP_FILE.message,i=Math.min(3,t.length),a=0;a<i;a++)e=e.concat(t[a]),a!=i-1&&(e=e.concat(", \n")),3===i&&a===i-1&&(e=e.concat("\netc..."));return e}function L(t){var e=null,i=null;return t===_.MAKE_DIR.INITIAL.code&&(e=_.MAKE_DIR.INITIAL),t===d.MAKE_DIR.NG_PATH.code&&(i=d.MAKE_DIR.NG_PATH),t===d.MAKE_DIR.NG_USERNAME.code&&(i=d.MAKE_DIR.NG_USERNAME),t===_.MAKE_DIR.SUCCESS.code&&(e=_.MAKE_DIR.SUCCESS),{notice:e,error:i}}var A={getItem:function(t){return t&&this.hasItem(t)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},setItem:function(t,e,i,a,s,n){if(t&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(t)){var o="";if(i)switch(i.constructor){case Number:o=i===1/0?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+i;break;case String:o="; expires="+i;break;case Date:o="; expires="+i.toGMTString()}document.cookie=escape(t)+"="+escape(e)+o+(s?"; domain="+s:"")+(a?"; path="+a:"")+(n?"; secure":"")}},removeItem:function(t,e){t&&this.hasItem(t)&&(document.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(e?"; path="+e:""))},hasItem:function(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=0;e<t.length;e++)t[e]=unescape(t[e]);return t}},D={computed:l()({},Object(c.d)(["main_menu_visible","username","user_list"])),methods:l()({},Object(c.c)(["setMainMenuVisible"]),Object(c.b)(["initClient"]),{closeMenu:function(){this.setMainMenuVisible({visible:!1})},selectUser:function(t){this.initClient(t),this.closeMenu()}})},j={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{open:t.main_menu_visible||void 0===t.username},attrs:{id:"left-menu"},on:{click:t.closeMenu}},[i("div",{staticClass:"left-menu-bar"},[t._m(0),t._v(" "),i("hr"),t._v(" "),i("div",{attrs:{id:"button-container"}},t._l(t.user_list,function(e){return i("button",{key:e,staticClass:"bar-button",attrs:{"data-username":e},on:{click:function(i){t.selectUser(e)}}},[t.username===e?i("i",{staticClass:"fa fa-folder-open",attrs:{"aria-hidden":"true"}}):t._e(),t._v(" "),t.username!==e?i("i",{staticClass:"fa fa-folder",attrs:{"aria-hidden":"true"}}):t._e(),t._v(" "),i("span",{staticClass:"menu-text"},[t._v(t._s(e))])])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"bar-button"},[e("i",{staticClass:"fa fa-object-group fa-fw",attrs:{"aria-hidden":"true"}}),this._v(" "),e("span",{staticClass:"menu-text"},[this._v("Labels")])])}]};var P=i("VU/8")(D,j,!1,function(t){i("S3Ll")},null,null).exports,z=i("woOf"),G=i.n(z),B=i("fZjL"),Z=i.n(B),R=i("Gu7T"),H=i.n(R),F=i("mtWM"),U=i.n(F);function W(t,e){var i=t.active_image_tag_boxes.slice(0,e.boxid),a=t.active_image_tag_boxes.slice(e.boxid+1,t.active_image_tag_boxes.length);t.active_image_tag_boxes=[].concat(H()(i),[e.box],H()(a))}function K(t,e){var i=t.active_image_tag_polygons.slice(0,Number(e.polyid)),a=t.active_image_tag_polygons.slice(Number(e.polyid)+1,t.active_image_tag_polygons.length);t.active_image_tag_polygons=[].concat(H()(i),[e.polygon],H()(a))}function V(t){var e=[];-1!==t.tag_filter.indexOf("hastags")&&e.push(function(e){return J(t,e)}),-1!==t.tag_filter.indexOf("notags")&&e.push(function(e){return!J(t,e)});var i=[];function a(t,e){var i=!0,a=!1,s=void 0;try{for(var n,o=p()(t);!(i=(n=o.next()).done);i=!0){if((0,n.value)(e))return!0}}catch(t){a=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(a)throw s}}return!1}-1!==t.review_filter.indexOf("ok")&&i.push(function(t){return"ok"==Q(t)}),-1!==t.review_filter.indexOf("ng")&&i.push(function(t){return"ng"==Q(t)}),-1!==t.review_filter.indexOf("notreviewed")&&i.push(function(t){return"notreviewed"==Q(t)});var s=[],n=!0,o=!1,r=void 0;try{for(var l,c=p()(Z()(t.folder_files));!(n=(l=c.next()).done);n=!0){var u=l.value,d=t.folder_files[u];a(e,d)&&(a(i,d)&&s.push(u))}}catch(t){o=!0,r=t}finally{try{!n&&c.return&&c.return()}finally{if(o)throw r}}s.sort(),t.filtered_imagelist=s,t.filtered_imagelist&&0!==t.filtered_imagelist.length||(t.image_status=g.NO_IMG)}function J(t,e){if(!e)return!1;var i=e.annotation;if(!i)return!1;var a=i.objects;return!!a&&!!a.length}function Q(t){if(!t)return"notreviewed";var e=t.annotation;if(!e)return"notreviewed";var i=e.source;if(!i)return"notreviewed";var a=i.reviewresult;return a||"notreviewed"}function Y(t,e){var i=[];i=e.hasOwnProperty("filename")?[e]:e;var a=0,s=!0,n=!1,o=void 0;try{for(var r,l=p()(t.tagged_images);!(s=(r=l.next()).done);s=!0){var c=r.value;if(c.filename!==e.filename&&i.push(c),(a+=c.width*(125/c.height))>1e4)break}}catch(t){n=!0,o=t}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}return i}var X={setFullScreenMode:function(t,e){t.full_screen_mode=e.full_screen_mode},setMainMenuVisible:function(t,e){t.main_menu_visible=e.visible},setCurrentTask:function(t,e){t.current_task=e},setErrorStatus:function(t,e){e.hasOwnProperty("code")&&(t.error_status.code=e.code,t.error_status.message=e.message),e.hasOwnProperty("error_status")&&(t.error_status=e.error_status)},setNoticeStatus:function(t,e){e.hasOwnProperty("code")&&(t.notice_status.code=e.code,t.notice_status.message=e.message),e.hasOwnProperty("notice_status")&&(t.notice_status=e.notice_status)},setImageStatus:function(t,e){t.image_status=e.image_status},setUsername:function(t,e){if(!t.user_list.includes(e))throw new URIError("Username "+e+" does not exist.");t.username=e},addNewUser:function(t,e){t.new_user=e.new_user},setUserList:function(t,e){t.user_list=e.user_list},setFolderFiles:function(t,e){t.folder_files=e.folder_files,t.imagelist_max_display=100,V(t)},updateFolderFile:function(t,e){e.info?t.folder_files[e.filename]=e.info:delete t.folder_files[e.filename],V(t)},setFilter:function(t,e){switch(e){case"All":t.tag_filter=["hastags","notags"],t.review_filter=["ok","ng","notreviewed"];break;case"NeedReview":t.tag_filter=["hastags"],t.review_filter=["notreviewed"];break;case"NoTags":t.tag_filter=["notags"],t.review_filter=["notreviewed"];break;case"CHECK_OK":t.tag_filter=["hastags"],t.review_filter=["ok"];break;case"CHECK_NG":t.tag_filter=["hastags"],t.review_filter=["ng"];break;default:t.tag_filter=["hastags","notags"],t.review_filter=["ok","ng","notreviewed"]}t.filter_method=e,V(t)},setImagelistMaxDisplay:function(t,e){t.imagelist_max_display=e.max_display},setActiveImage:function(t,e){var i=e.filename;if(null===i||void 0===i)return!1;t.active_boxid=null,t.active_image_tag_boxes=[],t.active_polygonid=null,t.active_image_tag_polygons=[],t.active_image_review_result=null,t.active_image_comment_admin=null,t.active_image_comment_subord=null,"none"===i?(t.active_image_filename=null,t.active_image_width=null,t.active_image_height=null,t.active_image=null):(t.active_image_filename=i,t.active_image_width=e.width,t.active_image_height=e.height,t.active_image=e.image,t.folder_files[i]&&function(t,e){var i=t.folder_files[e];if(t.current_task===u.DETECTION){var a=[];if(i){var s=!0,n=!1,o=void 0;try{for(var r,l=p()(i.annotation.objects);!(s=(r=l.next()).done);s=!0){var c=r.value.object;a.push({label:c.name,left:c.bndbox.xmin,right:c.bndbox.xmax,top:c.bndbox.ymin,bottom:c.bndbox.ymax})}}catch(t){n=!0,o=t}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}}t.active_image_tag_boxes=a}if(t.current_task===u.SEGMENTATION){var d=[];if(i){var g=!0,_=!1,m=void 0;try{for(var v,h=p()(i.annotation.objects);!(g=(v=h.next()).done);g=!0){var f=v.value.object;d.push({label:f.name,label_id:f.labelid,points:f.points})}}catch(t){_=!0,m=t}finally{try{!g&&h.return&&h.return()}finally{if(_)throw m}}}t.active_image_tag_polygons=d}t.active_image_review_result=i.annotation.source.reviewresult,t.active_image_comment_admin=i.annotation.source.comment.admin,t.active_image_comment_subord=i.annotation.source.comment.subord}(t,i))},setActiveBoxid:function(t,e){t.active_boxid=e.boxid},setTagboxes:function(t,e){t.active_image_tag_boxes=e.tagboxes},updateTagbox:function(t,e){W(t,e)},setActiveboxLabel:function(t,e){if(null===t.active_boxid)return!1;var i=t.active_boxid;if(null!==i){var a=t.active_image_tag_boxes[i];W(t,{boxid:i,box:G()(a,{label:e.label})})}},addNewTagbox:function(t,e){t.active_image_tag_boxes=[].concat(H()(t.active_image_tag_boxes),[e.box])},removeTagbox:function(t,e){var i=t.active_image_tag_boxes.slice(0,e.boxid),a=t.active_image_tag_boxes.slice(e.boxid+1);t.active_image_tag_boxes=[].concat(H()(i),H()(a)),t.active_boxid=null},setActivePolygonid:function(t,e){t.active_polygonid=e.polygonid},updateTagPolygon:function(t,e){K(t,e)},setActivePolyLabel:function(t,e){if(null===t.active_polygonid)return!1;var i=t.active_polygonid;if(!(null===i&&i>=t.active_image_tag_polygons.length)){var a=t.active_image_tag_polygons[i];K(t,{polyid:i,polygon:G()(a,{label_id:e.key,label:e.label})})}},addNewPolygon:function(t,e){t.active_image_tag_polygons=[].concat(H()(t.active_image_tag_polygons),[e.polygon])},removeTagPolygon:function(t,e){var i=t.active_image_tag_polygons.slice(0,e.polygonid),a=t.active_image_tag_polygons.slice(e.polygonid+1,t.active_image_tag_polygons.length);t.active_image_tag_polygons=[].concat(H()(i),H()(a))},setReviewResult:function(t,e){t.is_admin&&(t.active_image_review_result=e.result)},setCommentAdmin:function(t,e){t.active_image_comment_admin=e.comment},setCommentSubord:function(t,e){t.active_image_comment_subord=e.comment},setLabels:function(t,e){t.labels=e},setObservedEvent:function(t,e){t.observed_event=e},addLabelToState:function(t,e){var i=Z()(t.labels),a=e;if(0!==i.length){if(i.length-1===Number(i[i.length-1])){var s=i.length;t.labels[s]=a}}else t.current_task===u.DETECTION?t.labels[0]=a:t.current_task===u.SEGMENTATION&&(t.labels[0]={label:"background",shortcut:""},t.labels[1]=a)},setTaggedImages:function(t,e){e?t.current_task===u.DETECTION?t.tagged_images=Y(t,e):t.current_task===u.SEGMENTATION&&(t.tagged_images=Y(t,e)):t.tagged_images=[]},deleteTaggedImage:function(t,e){var i=[],a=!0,s=!1,n=void 0;try{for(var o,r=p()(t.tagged_images);!(a=(o=r.next()).done);a=!0){var l=o.value;l.filename!==e.filename&&i.push(l)}}catch(t){s=!0,n=t}finally{try{!a&&r.return&&r.return()}finally{if(s)throw n}}t.tagged_images=i},setCopyBoxes:function(t,e){t.saved_pre_tag_boxes=[],t.saved_pre_tag_boxes=e},applyPreBoxes:function(t,e){t.active_image_tag_boxes=e}},$={data:function(){return{IMAGE_RELOAD_MARGIN:100,IMAGE_RELOAD_AMOUNT:300,NO_REVIEW:i("t9t8"),CHECK_OK:i("e+Q9"),CHECK_NG:i("vJAC"),NO_REVIEW_OFF:i("/dnv"),CHECK_OK_OFF:i("28jk"),CHECK_NG_OFF:i("SGZC"),STATUS_NEED_REVIEW:i("ZttH"),STATUS_CHECK_OK:i("GiuW"),STATUS_CHECK_NG:i("wzf6")}},computed:l()({},Object(c.d)(["username","folder_files","filtered_imagelist","imagelist_max_display","active_image_filename","filter_method"]),{fileListTop:function(){return this.filtered_imagelist?this.filtered_imagelist.slice(0,this.imagelist_max_display):[]}}),watch:{active_image_filename:function(t,e){var i=this.filtered_imagelist.indexOf(t);if(-1!==i){var a=this.$el.querySelector("#imagelist img:nth-child("+(i+1)+")");if(a){var s=a.getBoundingClientRect(),n=this.$el.querySelector("#imagelist"),o=n.getBoundingClientRect();if(s.bottom>=o.bottom){var r=s.bottom-o.bottom;n.scrollBy(0,r+o.height/4)}else if(s.top<o.top){var l=s.top-o.top-o.height/4;n.scrollBy(0,l)}}}}},methods:l()({},Object(c.c)(["setActiveImage","setFilter","setImagelistMaxDisplay"]),Object(c.b)(["loadCurrentImage"]),{isSelectedFilter:function(t){return this.filter_method===t},updateFilter:function(t){this.setActiveImage({filename:"none"}),this.setFilter(t)},isReviewResultOk:function(t){return"ng"!==Q(this.folder_files[t])},isNeedReview:function(t){return"notreviewed"===Q(this.folder_files[t])},isNotags:function(t){var e=this.folder_files[t];return J(this.$store.state,e)},getImageUrl:function(t){return x("/t/"+this.username+"/"+t)},isSelected:function(t){return t===this.active_image_filename},selectImage:function(t){t.target.dataset.file!==this.active_image_filename&&this.loadCurrentImage(t.target.dataset.file)},onScroll:function(t){if(this.imagelist_max_display<this.filtered_imagelist.length){var e=this.imagelist_max_display-this.IMAGE_RELOAD_MARGIN;e<=0&&(e=1);var i=this.$el.querySelectorAll("#imagelist img.thumbnail");if(null!==i[e]){var a=i[e].getBoundingClientRect(),s=this.$el.querySelector("#imagelist").getBoundingClientRect();a.top<=s.top&&this.setImagelistMaxDisplay({max_display:this.imagelist_max_display+this.IMAGE_RELOAD_AMOUNT})}else i[e]}}})},q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"imagelistblock"}},[i("div",{staticClass:"title"},[i("div",{staticClass:"title-text row"},[i("span",{staticClass:"col-md-8 text"},[t._v("Images")]),t._v(" "),t.username&&0!==t.filtered_imagelist.length?i("span",{staticClass:"col number"},[t._v(t._s(t.filtered_imagelist.length))]):i("span",{staticClass:"col number"},[t._v("0")])])]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"row clear-margin first-row"},[i("div",{staticClass:"col-md-4 fillter-button left"},[i("div",{class:[{image_pred_tagbutton_active:t.isSelectedFilter("All")},{off:!t.isSelectedFilter("All")}],on:{click:function(e){t.updateFilter("All")}}},[t._v("\n            ALL\n        ")])]),t._v(" "),i("div",{staticClass:"col-md-8 fillter-button right"},[i("div",{class:[{image_pred_tagbutton_active:t.isSelectedFilter("NeedReview")},{off:!t.isSelectedFilter("NeedReview")}],on:{click:function(e){t.updateFilter("NeedReview")}}},[t.isSelectedFilter("NeedReview")?i("img",{staticClass:"button-icon",attrs:{src:t.NO_REVIEW}}):i("img",{staticClass:"button-icon",attrs:{src:t.NO_REVIEW_OFF}}),t._v(" Need Review\n        ")])])]),t._v(" "),i("div",{staticClass:"row clear-margin first-row"},[i("div",{staticClass:"col fillter-button Notags-fillter"},[i("div",{class:[{image_pred_tagbutton_active:t.isSelectedFilter("NoTags")},{off:!t.isSelectedFilter("NoTags")}],on:{click:function(e){t.updateFilter("NoTags")}}},[t._v("\n            No Tags\n        ")])]),t._v(" "),i("div",{staticClass:"col fillter-button OK-fillter"},[i("div",{class:[{image_pred_tagbutton_active:t.isSelectedFilter("CHECK_OK")},{off:!t.isSelectedFilter("CHECK_OK")}],on:{click:function(e){t.updateFilter("CHECK_OK")}}},[t.isSelectedFilter("CHECK_OK")?i("img",{staticClass:"button-icon",attrs:{src:t.CHECK_OK}}):i("img",{staticClass:"button-icon",attrs:{src:t.CHECK_OK_OFF}}),t._v(" OK\n        ")])]),t._v(" "),i("div",{staticClass:"col fillter-button NG-fillter"},[i("div",{class:[{image_pred_tagbutton_active:t.isSelectedFilter("CHECK_NG")},{off:!t.isSelectedFilter("CHECK_NG")}],on:{click:function(e){t.updateFilter("CHECK_NG")}}},[t.isSelectedFilter("CHECK_NG")?i("img",{staticClass:"ng-button-icon",attrs:{src:t.CHECK_NG}}):i("img",{staticClass:"ng-button-icon",attrs:{src:t.CHECK_NG_OFF}}),t._v(" NG\n        ")])])])]),t._v(" "),i("div",{attrs:{id:"imagelist"},on:{scroll:t.onScroll}},t._l(t.fileListTop,function(e){return i("div",{key:e},[i("div",{staticStyle:{position:"relative"}},[i("span",{staticClass:"img-status-wrapper"},[t.isNotags(e)?t.isNeedReview(e)?i("img",{staticClass:"img-status",attrs:{src:t.STATUS_NEED_REVIEW}}):!0===t.isReviewResultOk(e)?i("img",{staticClass:"img-status",attrs:{src:t.STATUS_CHECK_OK}}):!1===t.isReviewResultOk(e)?i("img",{staticClass:"img-status",attrs:{src:t.STATUS_CHECK_NG}}):t._e():i("img")]),t._v(" "),i("img",{staticClass:"thumbnail",class:{selected:t.isSelected(e)},attrs:{src:t.getImageUrl(e),"data-file":e},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.selectImage(e)}}})])])}))])},staticRenderFns:[]};var tt=i("VU/8")($,q,!1,function(t){i("BVtl")},"data-v-7e3b2cfb",null).exports,et={name:"NavArrow",props:["dir"],created:function(){window.addEventListener("keydown",this.onKeydown)},beforeDestroy:function(){window.removeEventListener("keydown",this.onKeydown)},computed:l()({},Object(c.d)(["filtered_imagelist","active_image_filename","active_boxid"]),{nextFile:function(){return"back"===this.dir?this.getBackName():this.getForeName()}}),methods:l()({},Object(c.b)(["loadCurrentImage"]),{getBackName:function(){var t=this.filtered_imagelist.indexOf(this.active_image_filename);if(t>0)return this.filtered_imagelist[t-1]},getForeName:function(){var t=this.filtered_imagelist.indexOf(this.active_image_filename);if(-1!==t&&t<this.filtered_imagelist.length-1)return this.filtered_imagelist[t+1]},onClick:function(t){var e=this.nextFile;e&&this.loadCurrentImage(e)},onKeydown:function(t){if(null===this.active_boxid)switch(t.key){case"ArrowLeft":var e=this.getBackName();e&&this.loadCurrentImage(e);break;case"ArrowRight":var i=this.getForeName();i&&this.loadCurrentImage(i)}}})},it={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navarrow",on:{click:this.onClick}},[this.nextFile?e("div",{class:["arrow",this.dir+"_arrow"]}):this._e()])},staticRenderFns:[]};var at=i("VU/8")(et,it,!1,function(t){i("zi1N")},null,null).exports,st=i("vwbq"),nt={name:"SegMask",data:function(){return{node:null,points:[],focus:null,polygons_selected_flag:[],maskcanvas_status:"fixed",d3Wrapper:{d3:st,svg:null}}},created:function(){window.addEventListener("keyup",this.onKeyup),window.addEventListener("keydown",this.onKeydown)},beforeDestroy:function(){window.removeEventListener("keyup",this.onKeyup),window.removeEventListener("keydown",this.onKeydown)},mounted:function(){this.d3Wrapper.svg=st.select("#mask-canvas"),setTimeout(this.initialzeNode,10),setTimeout(this.arrangePolySVG,10),this.$emit("statusOfMask",this.maskcanvas_status)},computed:l()({},Object(c.d)(["active_polygonid","active_image_tag_polygons","saving_sate","labels","labels_color","active_image","observed_event"]),{selectMode:function(){return this.$parent.show_selected_anno}}),watch:{maskcanvas_status:function(){this.$emit("statusOfMask",this.maskcanvas_status)},active_image:function(){var t=this;this.$nextTick(function(){t.setActivePolygonid({polygonid:null}),t.arrangePolySVG()})},active_image_tag_polygons:function(){var t=this;this.$nextTick(function(){t.arrangePolySVG()})},observed_event:function(){var t=this.observed_event;!t||"set_label"!==t&&"clicked_mcleanActivePolySVGiedPoly"!==t||null!==this.active_polygonid&&this.updateModifiedPoly(this.active_polygonid),this.setObservedEvent(null)}},methods:l()({},Object(c.c)(["addNewPolygon","removeTagPolygon","toggleSavingState","setActivePolygonid","updateTagPolygon","removeTagPolygon","setObservedEvent","setActivePolyLabel"]),{initialzeSVG:function(){this.cleanWipSVG(),this.cleanAllFixedPolySVG(),this.cleanActivePolySVG(),this.maskcanvas_status="fixed",this.points=[]},initialzeNode:function(){this.node=this.$refs.segmask.getBoundingClientRect()},setSelectedFlag:function(t){if(t){var e=void 0;!1===this.selectMode?(this.polygons_selected_flag=[],t.forEach(function(t,i){e=i===this.active_polygonid,this.polygons_selected_flag.push(e)}.bind(this))):!0===this.selectMode&&t.length-1===this.polygons_selected_flag.length&&t.length-1===this.active_polygonid&&(e=!0,this.polygons_selected_flag.push(e))}},setPolySvgStatus:function(t,e){return"not selected"!==t.status&&(e===this.active_polygonid?t.hasOwnProperty("label")?t.status="active":t.status="new":t.status="fixed"),t},fileterSelectedPolys:function(t){if(!1!==this.selectMode)return t.map(function(t,e){return!0===this.polygons_selected_flag[e]?t:{status:"not selected"}}.bind(this))},checkMaskCanvasStatus:function(t){var e=null;if(null!==this.active_polygonid)"active"===t[this.active_polygonid].status?e="modi-haslabel":"new"===t[this.active_polygonid].status&&(e="modi-nolabel");else if(null===this.active_polygonid){var i=this.d3Wrapper.svg.selectAll("#wipCloser")._groups[0];i&&0!==i.length&&(e="wip"),e="fixed"}this.maskcanvas_status=e},arrangePolySVG:function(){this.setSelectedFlag(this.active_image_tag_polygons),this.initialzeNode(),this.initialzeSVG();var t=this.convertCoordinateForCanvas(this.active_image_tag_polygons);!0===this.selectMode&&(t=this.fileterSelectedPolys(t)),(t=t.map(function(t,e){return this.setPolySvgStatus(t,e)}.bind(this))).forEach(function(t,e){if(!t.status)return!1;"fixed"===t.status?this.drawFixedPoly(t,e):"active"===t.status?(this.drawActivePoly(t,e),this.addLabelSvgToPoly(t,e)):"new"===t.status&&this.drawActivePoly(t,e)}.bind(this)),this.checkMaskCanvasStatus(t)},drawWipCloser:function(t){var e=this.d3Wrapper.svg;"wip"!==this.maskcanvas_status?e.select("#wipCloser").remove():e.append("circle").attr("r",7).attr("id","wipCloser").attr("z-index",50).attr("fill","#006ea1").attr("fill-opacity",.3).attr("stroke","#006ea1").attr("stroke-width","4px").on("mouseover",function(t,e){st.select(this).attr("r",10)}).on("mouseout",function(t,e){st.select(this).attr("r",7)}).on("mousedown.left",this.onClickWipCloser).attr("cx",t.clientX-this.node.left).attr("cy",t.clientY-this.node.top)},drawWipSVG:function(t){var e=this.d3Wrapper.svg;e.selectAll(".wip-points").remove(),e.selectAll(".wip-line").remove(),e.append("path").datum(t).classed("wip-line",!0).attr("fill","none").attr("stroke","#999999").attr("stroke-width",1).attr("d",st.line().x(function(t){return t.x}).y(function(t){return t.y})),e.selectAll("circle").data(t).enter().append("circle").classed("wip-points",!0).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",2.5).attr("stroke","#006ea1").attr("stroke-width","2px").attr("fill","#999999")},addNewPoly:function(){var t={};t.points=this.clientToPoly(this.points),this.setActivePolygonid({polygonid:this.active_image_tag_polygons.length}),this.addNewPolygon({polygon:t})},drawFixedPoly:function(t,e){if(!t)return!1;var i=this.d3Wrapper.svg,a=st.scaleLinear(),s=st.scaleLinear();i.append("polygon").data([t]).attr("points",function(t){return t.points.map(function(t){return[a(t.x),s(t.y)].join(",")}).join(" ")}).attr("id",function(t){return"fixedPoly"+e}).on("mousedown.left.stop.prevent",this.onClickFixedPoly).classed("fixed","fixed"===t.status).attr("stroke","#ccc").attr("stroke-width","0.75px").attr("fill","#1d89bf").attr("fill-opacity","0.5"),this.addLabelSvgToPoly(t,e)},addLabelSvgToPoly:function(t,e){var i=this.d3Wrapper.svg,a=this.getLabelColor(e),s=this.setPolySvgStatus(t,e);"fixed"===s.status?i.select("polygon[id = 'fixedPoly"+e+"'] ").attr("fill",a).attr("fill-opacity","0.3"):"active"===s.status&&i.select("path[id = 'activePoly"+e+"'] ").attr("fill",a).attr("fill-opacity","0.3")},drawActivePoly:function(t,e){if(t){var i,a,s=this.d3Wrapper.svg,n=st.drag().on("drag",function(t){var e=st.event,n=e.dx,c=e.dy;Array.isArray(t)?t.some(function(t,e){e>0&&(t.x+=n,t.y+=c)}):(t.x+=n,t.y+=c);(a=s.selectAll("circle").data(o)).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),i.attr("d",l(r))}).on("end",this.getModifiedPointsFromNode),o=t.points;this.points=o;var r=o.map(function(t){return t});r.push(r[0]);var l=st.line().x(function(t){return t.x}).y(function(t){return t.y});if(this.cleanSelectedFixedPolySVG(e),!i){if(i=s.append("path").datum(r).attr("stroke","#999999").attr("stroke-width",1).attr("id",function(t){return"activePoly"+e}).classed(""+t.status,!0).classed("modi-polygon",!0).attr("d",l(r)).call(n),"active"===t.status){var c=this.getLabelColor(e);i.attr("fill",c).attr("fill-opacity","0.3")}else"new"===t.status&&i.attr("fill","#1d89bf").attr("fill-opacity","0.5")}a||(a=s.selectAll("circle").data(o)).enter().append("circle").attr("r",2.5).classed("modi-points",!0).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("stroke","#006ea1").attr("stroke-width","2px").attr("fill","#999999").attr("id",function(t,e){return"circle"+e}).attr("cursor","pointer").call(n).on("mouseover",function(t,e){st.select(this).attr("r",5).attr("stroke","#006ea1").attr("stroke-width","2.5px").attr("fill","#006ea1").attr("fill-opacity",.3)}).on("mouseout",function(t,e){st.select(this).attr("r",2.5).attr("stroke","#006ea1").attr("stroke-width","2px").attr("fill","#999999").attr("fill-opacity",1)})}},getModifiedPointsFromNode:function(t){var e=this.d3Wrapper.svg.selectAll(".modi-points")._groups[0];if(e){var i=[],a=!0,s=!1,n=void 0;try{for(var o,r=p()(e);!(a=(o=r.next()).done);a=!0){var l=o.value,c={x:null,y:null};c.x=l.cx.animVal.value,c.y=l.cy.animVal.value,i.push(c)}}catch(t){s=!0,n=t}finally{try{!a&&r.return&&r.return()}finally{if(s)throw n}}this.points=i,this.updateModifiedPoly(this.active_polygonid)}},updateModifiedPoly:function(t){var e=this.convertCoordinateForCanvas([this.active_image_tag_polygons[t]])[0];delete e.points;var i=e;i.points=this.clientToPoly(this.points),this.updateTagPolygon({polyid:t,polygon:i})},onClickSegMask:function(t){var e=this.$parent.calcImageRect();return M(y()(e,2)[1],t.clientX,t.clientY)?"modi-nolabel"===this.maskcanvas_status||"modi-haslabel"===this.maskcanvas_status?(t.target.id.includes("mask-canvas")&&"modi-haslabel"===this.maskcanvas_status&&this.onClickActivePoly(),!1):"polygon"!==t.target.tagName&&"path"!==t.target.tagName&&("fixed"===this.maskcanvas_status&&0===this.points.length&&(this.maskcanvas_status="wip",this.drawWipCloser(t)),void("wip"===this.maskcanvas_status&&"wipCloser"!=t.target.id&&(this.getNewPointsFromNode(t),this.drawWipSVG(this.points)))):(this.onClickActivePoly(),!1)},getNewPointsFromNode:function(t){var e={x:null,y:null};e.x=t.clientX-this.node.left,e.y=t.clientY-this.node.top,this.points.push(e)},onClickWipCloser:function(){if(this.points.length<3)return!1;this.addNewPoly(),this.cleanWipSVG()},onClickActivePoly:function(){if(st.event&&st.event.target.className&&!st.event.target.className.baseVal.includes("active"))return!1;this.setActivePolygonid({polygonid:null}),this.arrangePolySVG()},onClickFixedPoly:function(t){var e=this,i=this.onClickGetPolyId();if(!this.active_image_tag_polygons[i])return this.deleteSelectedPoly(i),void this.setActivePolygonid({polygonid:null});i!==this.active_polygonid&&this.setActivePolygonid({polygonid:i}),this.$nextTick(function(){e.arrangePolySVG()})},onClickGetPolyId:function(){var t=void 0;if("polygon"===st.event.target.tagName||"path"===st.event.target.tagName){var e=st.event.target.id;t=Number(e.match(/\d+/)[0])}return t},getLabelColor:function(t){if(this.active_image_tag_polygons[t]){var e=this.active_image_tag_polygons[t].label;return w(this.labels,this.labels_color,e)}},cleanWipSVG:function(){var t=this.d3Wrapper.svg;t.selectAll(".wip-points").remove(),t.selectAll(".wip-line").remove(),this.maskcanvas_status="fixed",this.points=[],this.drawWipCloser(event)},cleanActivePolySVG:function(){var t=this.d3Wrapper.svg;t.selectAll(".modi-polygon").remove(),t.selectAll(".modi-points").remove()},cleanAllFixedPolySVG:function(){this.d3Wrapper.svg.selectAll("polygon").remove()},cleanSelectedFixedPolySVG:function(t){var e=this.d3Wrapper.svg.select("polygon[id = 'fixedPoly"+t+"'] ");e&&e.remove()},deleteSelectedPoly:function(t){this.cleanActivePolySVG(),this.setActivePolygonid({polygonid:null}),this.removeTagPolygon({polygonid:t}),this.maskcanvas_status="fixed",this.points=[];var e=this.d3Wrapper.svg.select("#wipCloser").select("#visible");void 0!==e&&null!==e&&this.drawWipCloser(event)},onKeyup:function(t){if("BODY"===t.target.nodeName&&this.$parent.hasImage){if("Delete"===t.key||"Backspace"===t.key){if(t.preventDefault(),t.stopPropagation(),null!==this.active_polygonid&&"modi-haslabel"===this.maskcanvas_status||"modi-nolabel"===this.maskcanvas_status)return void this.deleteSelectedPoly(this.active_polygonid);if("wip"===this.maskcanvas_status)return void(0===this.points.length?(this.maskcanvas_status="fixed",this.cleanWipSVG()):(this.points.pop(),this.drawWipSVG(this.points)))}if(t.ctrlKey)switch(t.key){case"d":this.$parent.toShowSelectedBoxes()}}},onKeydown:function(t){if("BODY"===t.target.nodeName&&this.$parent.hasImage&&null!==this.active_polygonid)if("ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key);else if(!t.ctrlKey)for(var e in this.labels)if(this.labels[e].shortcut==t.key)return this.setObservedEvent("set_label"),this.setActivePolyLabel({key:e,label:this.labels[e].label}),t.preventDefault(),t.stopPropagation(),!1},clientToPoly:function(t){var e=this.$parent.calcImageRect(),i=y()(e,2),a=i[0],s=i[1];return t.map(function(t){return{x:(t.x-s[0]+this.node.left)/a,y:(t.y-s[1]+this.node.top)/a}}.bind(this))},PolyToClient:function(t){var e=this.$parent.calcImageRect(),i=y()(e,2),a=i[0],s=i[1];return t.map(function(t){return{x:t.x*a+s[0],y:t.y*a+s[1]}})},toCanvasRect:function(t){var e=t.map(function(t){return[t.x,t.y]}),i=S(this.$parent.$refs.canvas,e);return i=i.map(function(t){return{x:t[0],y:t[1]}})},convertCoordinateForCanvas:function(t){return t.map(function(t,e){var i={};if(t.hasOwnProperty("points")){var a=t.points.map(function(t){return t}),s=this.PolyToClient(a);s=this.toCanvasRect(s),i.points=s}return t.hasOwnProperty("label")&&(i.label=t.label),t.hasOwnProperty("label_id")&&(i.label_id=t.label_id),i}.bind(this))}})},ot={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"segmask",attrs:{id:"seg-mask"},on:{mousedown:function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:t.onClickSegMask(e):null}}},[i("svg",{ref:"maskcanvas",attrs:{id:"mask-canvas"}})])},staticRenderFns:[]};var rt=i("VU/8")(nt,ot,!1,function(t){i("nhrO")},"data-v-2cd44fee",null).exports,lt={name:"DetectMask",data:function(){return{BOX_MARGIN:2,BOX_BORDER:3,status:"",dragfrom_x:null,dragfrom_y:null,newbox_rect:null,org_boxrc:null,boxes:null,pre_boxes_state:[],copy_target_box:null,label_names:[]}},created:function(){var t=this;window.addEventListener("resize",this.onResize),window.addEventListener("keyup",this.onKeyup),window.addEventListener("keydown",this.onKeydown),Z()(this.labels).forEach(function(e){t.label_names.push(t.labels[e].label)})},beforeDestroy:function(){window.removeEventListener("resize",this.onResize),window.removeEventListener("keyup",this.onKeyup),window.removeEventListener("keydown",this.onKeydown)},mounted:function(){setTimeout(this.arrangeBoxes,10),this.$on("arrangeBoxes",this.arrangeBoxes)},computed:l()({},Object(c.d)(["active_image_height","active_image_width","active_image_tag_boxes","active_boxid","labels","labels_color","saved_pre_tag_boxes"]),{selectMode:function(){return this.$parent.show_selected_anno},filterSelectedBoxes:function(){if(!this.boxes)return!1;var t=0,e=[];if(!0===this.selectMode){var i=!0,a=!1,s=void 0;try{for(var n,o=p()(this.boxes);!(i=(n=o.next()).done);i=!0){var r=n.value;r.selected?e[""+t]=r.size_style:e[""+t]=null,t+=1}}catch(t){a=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(a)throw s}}return e}if(!1===this.selectMode){var l=!0,c=!1,u=void 0;try{for(var d,g=p()(this.boxes);!(l=(d=g.next()).done);l=!0){var _=d.value;e[""+t]=_.size_style,t+=1}}catch(t){c=!0,u=t}finally{try{!l&&g.return&&g.return()}finally{if(c)throw u}}return e}}}),watch:{active_image_tag_boxes:function(){var t=this;this.$nextTick(function(){t.copy_target_box=null,t.arrangeBoxes()})},boxes:function(){if(this.active_image_tag_boxes){var t=this.active_boxid;if(void 0===this.active_image_tag_boxes[t])return!1}},labels:function(){var t=this;this.label_names=[],Z()(this.labels).forEach(function(e){t.label_names.push(t.labels[e].label)})}},methods:l()({},Object(c.c)(["setActiveBoxid","setTagboxes","removeTagbox","addNewTagbox","updateTagbox","applyPreBoxes","setActiveboxLabel"]),{isCreatingNewbox:function(){return"new"===this.status},isActivebox:function(t){return this.active_boxid===t},newtagStyle:function(){var t=this.toCanvasRect(this.newbox_rect);return this.sizeStyle(t).size_style},getLabelColorbyBoxlabel:function(t){var e=this.getBoxLabel(t);return void 0!==e&&w(this.labels,this.labels_color,e)},initSelectedFlag:function(t){var e=!0,i=!1,a=void 0;try{for(var s,n=p()(t);!(e=(s=n.next()).done);e=!0){s.value.selected=!1}}catch(t){i=!0,a=t}finally{try{!e&&n.return&&n.return()}finally{if(i)throw a}}return t},_deleteBoxesInSelectedMode:function(t){var e=this.boxes.slice(0,t),i=this.boxes.slice(t+1);this.boxes=[].concat(H()(e),H()(i))},_setFlagInSelectedMode:function(t,e){if(null!=t&&t===this.boxes.length&&(e[t].selected=!0),null===t||t<0)return e;for(var i=0;i<this.boxes.length;i++)this.boxes[i]&&e[i]&&(e[i].selected=this.boxes[i].selected);return e},_setFlagInOriginalMode:function(t,e){if(e[t]){var i=!0,a=!1,s=void 0;try{for(var n,o=p()(e);!(i=(n=o.next()).done);i=!0){var r=n.value;r.selected=!1,r===e[t]&&(r.selected=!0)}}catch(t){a=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(a)throw s}}}return e},getBoxObj:function(t){return!(!this.active_image_tag_boxes[t]||!this.boxes[t])&&this.active_image_tag_boxes[t]},getBoxLabel:function(t){return!(!this.active_image_tag_boxes[t]||!this.boxes[t])&&this.getBoxObj(t).label},sizeStyle:function(t){var e={};return e.left=t[0]+"px",e.top=t[1]+"px",e.width=t[2]-t[0]+"px",e.height=t[3]-t[1]+"px",{size_style:e}},boxToClient:function(t){var e=this.$parent.calcImageRect(),i=y()(e,2),a=i[0],s=i[1];return[t.left*a+s[0],t.top*a+s[1],t.right*a+s[0],t.bottom*a+s[1]]},clientToBox:function(t){var e=N(t),i=y()(e,4),a=i[0],s=i[1],n=i[2],o=i[3],r=this.$parent.calcImageRect(),l=y()(r,2),c=l[0],u=l[1];return{left:a=(a-u[0])/c,top:s=(s-u[1])/c,right:n=(n-u[0])/c,bottom:o=(o-u[1])/c}},toCanvasRect:function(t){var e=N(t),i=y()(e,4),a=i[0],s=i[1],n=i[2],o=i[3],r=S(this.$parent.$refs.canvas,[[a,s],[n,o]]),l=y()(r,2),c=y()(l[0],2);a=c[0],s=c[1];var u=y()(l[1],2);return[a,s,n=u[0],o=u[1]]},arrangeBoxes:function(){if(!this.$parent.$refs.canvas||!this.active_image_tag_boxes)return!1;var t=[],e=!0,i=!1,a=void 0;try{for(var s,n=p()(this.active_image_tag_boxes);!(e=(s=n.next()).done);e=!0){var o=s.value,r=this.toCanvasRect(this.boxToClient(o));t.push(this.sizeStyle([r[0]-this.BOX_MARGIN,r[1]-this.BOX_MARGIN,r[2]+this.BOX_MARGIN,r[3]+this.BOX_MARGIN]))}}catch(t){i=!0,a=t}finally{try{!e&&n.return&&n.return()}finally{if(i)throw a}}null===this.boxes?(t=this.initSelectedFlag(t),this.boxes=t):this.selectMode?(t=this._setFlagInSelectedMode(this.active_boxid,t),this.boxes=t):(t=null!=this.active_boxid?this._setFlagInOriginalMode(this.active_boxid,t):this.initSelectedFlag(t),this.boxes=t)},_cleanBoxes:function(){var t=[],e=!0,i=!1,a=void 0;try{for(var s,n=p()(this.active_image_tag_boxes.entries());!(e=(s=n.next()).done);e=!0){var o=s.value,r=y()(o,2),l=r[0],c=r[1];c.label?t.push(c):this._deleteBoxesInSelectedMode(l)}}catch(t){i=!0,a=t}finally{try{!e&&n.return&&n.return()}finally{if(i)throw a}}this.setTagboxes({tagboxes:t})},boxGetCursorType:function(t,e,i){var a=t.getBoundingClientRect(),s=2*this.BOX_MARGIN+this.BOX_BORDER;return e-a.left<=s?i-a.top<=s?"nw":a.bottom-i<=s?"sw":"w":a.right-e<=s?i-a.top<=s?"ne":a.bottom-i<=s?"se":"e":i-a.top<=s?"n":a.bottom-i<=s?"s":""},dirToCursor:function(t){return{n:"ns-resize",nw:"nwse-resize",ne:"nesw-resize",w:"ew-resize",e:"ew-resize",s:"ns-resize",sw:"nesw-resize",se:"nwse-resize"}[t]},onResize:function(){setTimeout(this.arrangeBoxes,10)},onKeyup:function(t){var e=this;if("BODY"===t.target.nodeName){if(this.$parent.hasImage&&null!==this.active_boxid&&("Delete"===t.key||"Backspace"===t.key))return this._deleteBoxesInSelectedMode(this.active_boxid),this.removeTagbox({boxid:this.active_boxid}),t.preventDefault(),t.stopPropagation(),!1;if(t.ctrlKey)switch(t.key){case"b":0==this.saved_pre_tag_boxes&&alert("There is no target image to copy");var i=this.saved_pre_tag_boxes.map(function(t){var i,a,s,n,o,r=[].concat(H()(t));return i=r[0],a=r[1],s=r[2],n=r[3],o=r[4],{bottom:i*e.active_image_height,top:a*e.active_image_height,left:s*e.active_image_width,right:n*e.active_image_width,label:o}}),a=[].concat(H()(this.active_image_tag_boxes),H()(i));this.applyPreBoxes(a);break;case"d":this.$parent.toShowSelectedBoxes();break;case"z":this.applyPreBoxes(this.pre_boxes_state);break;case"c":var s=this.active_image_tag_boxes.filter(function(t,i){return e.isActivebox(i)});s.length>0?this.copy_target_box=s[0]:this.copy_target_box=null;break;case"v":if(null===this.copy_target_box)break;var n=this.copy_target_box.top>0?.02*this.active_image_height:-.02*this.active_image_height,o=this.copy_target_box.left-.02*this.active_image_width<0?.02*-this.active_image_width:.02*this.active_image_width;this.copy_target_box.bottom-this.copy_target_box.top+.02*this.active_image_height>this.active_image_height&&(n=0),this.copy_target_box.right-this.copy_target_box.left+.02*this.active_image_width>this.active_image_width&&(o=0);var r={label:this.copy_target_box.label,bottom:this.copy_target_box.bottom-n,left:this.copy_target_box.left-o,right:this.copy_target_box.right-o,top:this.copy_target_box.top-n};r&&this.$store.commit("addNewTagbox",{box:r})}}},onKeydown:function(t){if("BODY"===t.target.nodeName&&this.$parent.hasImage&&null!==this.active_boxid)if("ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key){var e=this.active_boxid,i=this.getBoxObj(e);switch(i.top=parseInt(i.top),i.bottom=parseInt(i.bottom),i.right=parseInt(i.right),i.left=parseInt(i.left),t.key){case"ArrowUp":i.top>0&&(i.top-=1,i.bottom-=1);break;case"ArrowDown":this.active_image_height>i.bottom&&(i.top+=1,i.bottom+=1);break;case"ArrowLeft":i.left>0&&(i.left-=1,i.right-=1);break;case"ArrowRight":i.right<this.active_image_width&&(i.left+=1,i.right+=1);break;default:return}this.updateTagbox({boxid:e,box:i})}else if(!t.ctrlKey)for(var a in this.labels)if(this.labels[a].shortcut==t.key)return this.setActiveboxLabel(this.labels[a]),t.preventDefault(),t.stopPropagation(),!1},onClick:function(t){if(this.$parent.hasImage){var e=this.$parent.calcImageRect();M(y()(e,2)[1],t.clientX,t.clientY)&&(this._cleanBoxes(),null!=this.active_boxid&&this.setActiveBoxid({boxid:null}),this.dragfrom_y=t.clientY,this.dragfrom_x=t.clientX,this.status="new",this.newbox_rect=[this.dragfrom_x,this.dragfrom_y,this.dragfrom_x,this.dragfrom_y],T(document,"mouseup",this.endDrag,!0))}},onBoxClick:function(t){this.pre_boxes_state=this.active_image_tag_boxes;var e=t.currentTarget.dataset.boxid;if(e!==this.active_boxid&&this._cleanBoxes(),this.getBoxObj(e)){var i=this.boxGetCursorType(t.currentTarget,t.clientX,t.clientY);this.status=""===i?"dragging":i,this.setActiveBoxid({boxid:parseInt(e)});var a=this.getBoxObj(this.active_boxid);this.org_boxrc=this.boxToClient(a);var s=[t.clientX,t.clientY];this.dragfrom_x=s[0],this.dragfrom_y=s[1],T(document,"mouseup",this.endDrag,!0)}},onBoxMousemove:function(t){var e=this.status;e||(e=this.boxGetCursorType(t.currentTarget,t.clientX,t.clientY));var i=this.dirToCursor(e);i||(i="move"),t.target.style.cursor=i},onMousemove:function(t){if(this.$parent.hasImage){var e=this.$parent.calcImageRect(),i=y()(e,2)[1],a=C(k(i[0],t.clientX),i[2]),s=C(k(i[1],t.clientY),i[3]);if("new"===this.status){var n=y()(this.newbox_rect,2),o=n[0],r=n[1];this.newbox_rect=[o,r,a,s]}else if(this.status){var c=this.org_boxrc.slice(),u=a-this.dragfrom_x,d=s-this.dragfrom_y;"dragging"===this.status?(c[0]-i[0]+u<0&&(u=-1*(c[0]-i[0])),c[2]+u>i[2]&&(u=i[2]-c[2]),c[1]-i[1]+d<0&&(d=-1*(c[1]-i[1])),c[3]+d>i[3]&&(d=i[3]-c[3]),c[0]+=u,c[2]+=u,c[1]+=d,c[3]+=d):(-1!==this.status.indexOf("n")&&(c[1]=C(k(i[1],c[1]+d),c[3]-1)),-1!==this.status.indexOf("s")&&(c[3]=C(k(c[1],c[3]+d),i[3])),-1!==this.status.indexOf("w")&&(c[0]=C(k(i[0],c[0]+u),c[2]-1)),-1!==this.status.indexOf("e")&&(c[2]=C(k(c[0],c[2]+u),i[2]-1)));var g=this.getBoxObj(this.active_boxid),_=l()({},g,this.clientToBox(c));this.pre_box_data=this.active_image_tag_boxes,this.updateTagbox({boxid:this.active_boxid,box:_})}}},onDragStart:function(t){return!1},endDrag:function(){if("new"===this.status){var t=this.clientToBox(this.newbox_rect);t.left!==t.right&&t.top!==t.bottom?(this.addNewTagbox({box:t}),this.setActiveBoxid({boxid:this.active_image_tag_boxes.length-1})):this.setActiveBoxid({boxid:null})}this.status=""}})},ct={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"detectmask",attrs:{id:"detect-mask"},on:{mousedown:function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:(e.stopPropagation(),t.onClick(e)):null},mousemove:function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:(e.stopPropagation(),e.preventDefault(),t.onMousemove(e)):null},dragstart:function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:(e.stopPropagation(),e.preventDefault(),t.onDragStart(e)):null}}},[i("div",{staticClass:"mask-canvas"},[t.isCreatingNewbox()?i("div",{style:t.newtagStyle(),attrs:{id:"newtag"}}):t._e(),t._v(" "),t._l(t.filterSelectedBoxes,function(e,a){return i("div",{key:a,staticClass:"box-border",style:e,attrs:{"data-boxid":a},on:{mousedown:function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:(e.stopPropagation(),e.preventDefault(),t.onBoxClick(e)):null},mousemove:function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:t.onBoxMousemove(e):null}}},[null!=e?i("div",{class:["box",t.isActivebox(a)?"box-active":""],style:{"border-color":t.getLabelColorbyBoxlabel(a)}},[i("div",{staticClass:"taglabel",style:{"background-color":t.getLabelColorbyBoxlabel(a)}},[t._v("\n             "+t._s(t.getBoxLabel(a))+"\n           ")])]):t._e()])})],2)])},staticRenderFns:[]};var ut={components:{navarrow:at,"seg-mask":rt,"detect-mask":i("VU/8")(lt,ct,!1,function(t){i("HWtw")},"data-v-fcf60ae0",null).exports},data:function(){return{TASK_ID:u,show_selected_anno:!1,mask_status:"",has_tags_initially:!1,zoom_x:0,zoom_y:0,zoom_scale:1,image_drag_status:!1,image_dragform_x:0,image_dragform_y:0}},created:function(){window.addEventListener("keyup",this.onKeyup)},beforeDestroy:function(){window.removeEventListener("keyup",this.onKeyup)},mounted:function(){this.has_tags_initially=this.hasTagsInitially()},computed:l()({},Object(c.d)(["full_screen_mode","is_admin","current_task","tagged_images","active_image","active_image_filename","active_image_height","active_image_width","active_image_review_result","active_image_tag_boxes","active_image_tag_polygons"]),{imageUrl:function(){return this.active_image},hasImage:function(){return Boolean(this.active_image_filename)},imgFilename:function(){var t=this.active_image_filename.search(/[/\\]/);return this.active_image_filename.slice(t+1)},canBeSaved:function(){if(this.current_task===this.TASK_ID.DETECTION){if(this.active_image_tag_boxes&&0===this.active_image_tag_boxes.length&&!this.has_tags_initially)return!1;var t=!0,e=!1,i=void 0;try{for(var a,s=p()(this.active_image_tag_boxes);!(t=(a=s.next()).done);t=!0){if(!a.value.label)return!1}}catch(t){e=!0,i=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw i}}return!0}if(this.current_task===this.TASK_ID.SEGMENTATION)return!(this.active_image_tag_polygons&&0===this.active_image_tag_polygons.length&&!this.has_tags_initially)&&("fixed"===this.mask_status||"modi-haslabel"===this.mask_status)},active_image_comment_admin:{get:function(){return this.$store.state.active_image_comment_admin},set:function(t){this.setCommentAdmin({comment:t})}},active_image_comment_subord:{get:function(){return this.$store.state.active_image_comment_subord},set:function(t){this.setCommentSubord({comment:t})}},canvasStyle:function(){var t=this.$refs.wrapper;if(t){var e=t.getBoundingClientRect();e.top,e.left}var i=this.zoom_scale;return{width:100*i+"%",height:95*i+"%",top:this.zoom_y+"px",left:this.zoom_x+"px"}},isLongFileName:function(){return this.active_image_filename.length>10}}),watch:{active_image_filename:function(){this.has_tags_initially=this.hasTagsInitially()}},methods:l()({},Object(c.c)(["setReviewResult","setCommentAdmin","setCommentSubord","setFullScreenMode","setTaggedImages","setCopyBoxes"]),Object(c.b)(["saveAnnotation","deleteAnnotation"]),{statusOfMask:function(t){this.current_task===this.TASK_ID.SEGMENTATION&&(this.mask_status=t)},hasTagsInitially:function(){var t=!1,e=null;return this.current_task===this.TASK_ID.DETECTION?e=this.active_image_tag_boxes.map(function(t){return t}):this.current_task===this.TASK_ID.SEGMENTATION&&(e=this.active_image_tag_polygons.map(function(t){return t})),e&&0!==e.length&&(t=!0),t},toFullScreenMode:function(){var t=this.mask_status,e=!this.full_screen_mode;this.setFullScreenMode({full_screen_mode:e}),this.current_task===this.TASK_ID.SEGMENTATION&&(this.$refs.segmask._data.status=t)},canWheel:function(){T(document,"mouseup",this.endDrag,!0)},_zoom:function(t,e,i,a){var s=this,n=0;a>0?(this.zoom_scale-=i,this.zoom_scale>=.5?n=-i:this.zoom_scale=.5):(this.zoom_scale+=i,this.zoom_scale<=1.5?n=i:this.zoom_scale=1.5);var o=this.zoom_x,r=this.zoom_y,l=this.$refs.canvas.getBoundingClientRect(),c=this.$refs.wrapper.getBoundingClientRect();o-=(t-l.left)/(l.right-l.left)*(c.right-c.left)*n,r-=(e-l.top)/(l.bottom-l.top)*(c.bottom-c.top)*n,this.zoom_y=r,this.zoom_x=o,this.$nextTick(function(){s.current_task===s.TASK_ID.DETECTION?s.$refs.detectmask.arrangeBoxes():s.current_task===s.TASK_ID.SEGMENTATION&&s.$refs.segmask.arrangePolySVG()})},onZoomOutButton:function(){var t=this.$refs.canvaspanel.getBoundingClientRect();this._zoom(t.right/2,t.bottom/2,.05,!1)},onZoomResetButton:function(){var t=this;this.zoom_y=0,this.zoom_x=0,this.zoom_scale=1,this.$nextTick(function(){t.current_task===t.TASK_ID.DETECTION?t.$refs.detectmask.arrangeBoxes():t.current_task===t.TASK_ID.SEGMENTATION&&t.$refs.segmask.arrangePolySVG()})},onZoomInButton:function(){var t=this.$refs.canvaspanel.getBoundingClientRect();this._zoom(t.right/2,t.bottom/2,.05,!0)},zoomImage:function(t){this._zoom(t.clientX,t.clientY,.05,t.deltaY>0)},toShowSelectedBoxes:function(){var t=this;this.show_selected_anno=!this.show_selected_anno,this.$nextTick(function(){t.current_task===t.TASK_ID.DETECTION?t.$refs.detectmask.arrangeBoxes():t.current_task===t.TASK_ID.SEGMENTATION&&t.$refs.segmask.arrangePolySVG()})},applyAnnotation:function(){var t=this;if(this.current_task===this.TASK_ID.DETECTION)if(0===this.active_image_tag_boxes.length)this.deleteAnnotation();else{var e=this.active_image_tag_boxes.map(function(e){var i=l()({},e),a=i.bottom,s=i.top,n=i.left,o=i.right,r=i.label;return[a/t.active_image_height,s/t.active_image_height,n/t.active_image_width,o/t.active_image_width,r]});this.setCopyBoxes(e),this.saveAnnotation();var i={filename:this.active_image_filename,width:this.active_image_width,height:this.active_image_height,image:this.active_image,boxes:this.active_image_tag_boxes};this.setTaggedImages(i)}else if(this.current_task===this.TASK_ID.SEGMENTATION)if(0===this.active_image_tag_polygons.length)this.deleteAnnotation();else{this.saveAnnotation();var a={filename:this.active_image_filename,width:this.active_image_width,height:this.active_image_height,image:this.active_image,polygons:this.active_image_tag_polygons};this.setTaggedImages(a)}},onKeyup:function(t){if("BODY"===t.target.nodeName&&(!0===t.ctrlKey&&"w"===t.key&&this.toFullScreenMode()," "===t.key))return this.canBeSaved&&(this.applyAnnotation(),t.preventDefault(),t.stopPropagation()),!1},calcImageRect:function(){var t=this.$refs.canvas.getBoundingClientRect(),e=this.active_image_width,i=this.active_image_height,a=C(t.width/e,t.height/i),s=k(0,(t.width-e*a)/2),n=k(0,(t.height-i*a)/2),o=t.left+s,r=o+e*a,l=t.top+n;return[a,[o,l,r,l+i*a]]},onDownMiddle:function(t){this.image_drag_status=!0,this.image_dragform_x=t.clientX,this.image_dragform_y=t.clientY},onMoveMiddle:function(t){var e=this;if(this.image_drag_status){var i=this.calcImageRect(),a=y()(i,2),s=(a[0],a[1]),n=(this.$refs.canvas.getBoundingClientRect(),this.$refs.wrapper.getBoundingClientRect()),o=this.zoom_x+(t.clientX-this.image_dragform_x),r=this.zoom_y+(t.clientY-this.image_dragform_y),l=s[0]+(t.clientX-this.image_dragform_x),c=s[1]+(t.clientY-this.image_dragform_y),u=l+300>n.right,d=l+s[2]-s[0]-300<n.left,g=c+300>n.bottom,_=c+s[3]-s[1]-300<n.top;this.image_dragform_x=t.clientX,this.image_dragform_y=t.clientY,u||d?this.zoom_y=r:g||_?this.zoom_x=o:(this.zoom_y=r,this.zoom_x=o),this.$nextTick(function(){e.current_task===e.TASK_ID.DETECTION?e.$refs.detectmask.arrangeBoxes():e.current_task===e.TASK_ID.SEGMENTATION&&e.$refs.segmask.arrangePolySVG()})}},onUpMiddle:function(t){this.image_drag_status=!1}})},dt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{full_screen_mode:!0===t.full_screen_mode,original:!1===t.full_screen_mode},attrs:{id:"canvasblock"}},[i("div",{ref:"canvaspanel",attrs:{id:"canvaspanel"},on:{mousedown:function(e){return"button"in e&&1!==e.button?null:t.onDownMiddle(e)},mousemove:t.onMoveMiddle,mouseup:function(e){return"button"in e&&1!==e.button?null:t.onUpMiddle(e)}}},[i("navarrow",{staticClass:"arrow",attrs:{dir:"back"}}),t._v(" "),i("div",{ref:"wrapper",attrs:{id:"canvas-wrapper"},on:{wheel:function(e){return e.ctrlKey?(e.preventDefault(),t.zoomImage(e)):null}}},[i("div",{staticClass:"pad"}),t._v(" "),t.current_task===t.TASK_ID.SEGMENTATION?i("div",{staticClass:"mask-wrapper"},[t.hasImage?i("img",{ref:"canvas",staticClass:"canvas",style:t.canvasStyle,attrs:{src:t.imageUrl}}):t._e(),t._v(" "),i("seg-mask",{ref:"segmask",staticClass:"mask",style:t.canvasStyle,attrs:{"select-mode":t.show_selected_anno},on:{statusOfMask:t.statusOfMask}})],1):t.current_task===t.TASK_ID.DETECTION?i("div",{staticClass:"mask-wrapper"},[t.hasImage?i("img",{ref:"canvas",staticClass:"canvas",style:t.canvasStyle,attrs:{src:t.imageUrl}}):t._e(),t._v(" "),i("detect-mask",{ref:"detectmask",staticClass:"mask",style:t.canvasStyle,attrs:{"select-mode":t.show_selected_anno}})],1):t._e(),t._v(" "),i("div",{staticClass:"pad"})]),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{attrs:{id:"zoom-button"}},[i("div",{attrs:{id:"zoom-out-button"},on:{click:t.onZoomOutButton}},[i("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})]),t._v(" "),i("div",{attrs:{id:"zoom-reset-button"},on:{click:t.onZoomResetButton}},[i("i",{staticClass:"fa fa-expand",attrs:{"aria-hidden":"true"}})]),t._v(" "),i("div",{attrs:{id:"expand-wide"},on:{click:t.toFullScreenMode}},[i("i",{staticClass:"fa fa-arrows-alt",attrs:{"aria-hidden":"true"}})]),t._v(" "),i("div",{attrs:{id:"zoom-in-button"},on:{click:t.onZoomInButton}},[i("i",{staticClass:"fa fa-minus",attrs:{"aria-hidden":"true"}})])])]),t._v(" "),i("navarrow",{staticClass:"arrow",attrs:{dir:"forward"}})],1),t._v(" "),i("p",{attrs:{id:"demo"}}),t._v(" "),i("div",[i("div",{staticClass:"row",attrs:{id:"imageinfo"}},[t._m(0),t._v(" "),i("div",{staticClass:"col-md-1 row  clear-padding "}),t._v(" "),i("div",{staticClass:"col-md-5 row  clear-padding comment-wrapper"},[i("div",{staticClass:"comment-area col-md-6",class:{active_textarea:t.is_admin,inactive_textarea:!t.is_admin}},[i("span",[t._v("admin >> ")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.active_image_comment_admin,expression:"active_image_comment_admin"}],staticClass:"form-control",attrs:{readonly:!t.is_admin},domProps:{value:t.active_image_comment_admin},on:{input:function(e){e.target.composing||(t.active_image_comment_admin=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"comment-area col-md-6",class:{active_textarea:!t.is_admin,inactive_textarea:t.is_admin}},[i("span",[t._v("user >>")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.active_image_comment_subord,expression:"active_image_comment_subord"}],staticClass:"form-control",attrs:{readonly:t.is_admin},domProps:{value:t.active_image_comment_subord},on:{input:function(e){e.target.composing||(t.active_image_comment_subord=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"col-md-3 row clear-padding"},[i("div",{staticClass:"col-md-4 clear-padding toggle-wrapper"},[i("div",{attrs:{id:"toggle"}},[i("label",{staticClass:"switch"},[i("input",{class:{checked:t.show_selected_anno},attrs:{type:"checkbox"}}),t._v(" "),i("span",{staticClass:"slider",on:{click:t.toShowSelectedBoxes}})])]),t._v(" "),i("p",{staticClass:"switch-explain-text"},[t._v("Hide boxes")])]),t._v(" "),i("div",{staticClass:"col-md-8 clear-padding"},[i("div",{staticClass:"row",attrs:{id:"buttons"}},[i("p",{staticClass:"imgFilename_wrapper"},[i("span",{staticClass:"col-md-10 text-left clear-padding",class:{imgFilename_long_txt:t.isLongFileName},staticStyle:{margin:"0px"}},[t._v(t._s(t.imgFilename))])]),t._v(" "),i("div",{staticClass:"col-md-10 clear-padding",staticStyle:{margin:"10px 0px 0px"}},[t.is_admin?i("div",{staticClass:"btn-wrp"},[t.canBeSaved&&"ng"!==t.active_image_review_result?i("p",{staticClass:"img-btn   float-left  ng-button",on:{click:function(e){t.setReviewResult({result:"ng"})}}},[t._v("\n                        NG\n                  ")]):t.canBeSaved&&"ng"===t.active_image_review_result?i("p",{staticClass:"img-btn   float-left  ng-button ng-button-push",on:{click:function(e){t.setReviewResult({result:"ng"})}}},[t._v("\n                    NG\n                  ")]):i("p",{staticClass:"img-btn-disabled   float-left ng-button"},[t._v("\n                    NG\n                  ")]),t._v(" "),t.canBeSaved&&"ok"!==t.active_image_review_result?i("p",{staticClass:"img-btn   float-right ok-button",class:{review_checked:"ok"===t.active_image_review_result},on:{click:function(e){t.setReviewResult({result:"ok"})}}},[t._v("\n                    OK\n                  ")]):t.canBeSaved&&"ok"===t.active_image_review_result?i("p",{staticClass:"img-btn   float-right ok-button ok-button-push",on:{click:function(e){t.setReviewResult({result:"ok"})}}},[t._v("\n                    OK\n                  ")]):i("p",{staticClass:"img-btn-disabled   float-right ok-button"},[t._v("\n                    OK\n                  ")])]):t._e()]),t._v(" "),i("div",{staticClass:"col-md-10 clear-padding",staticStyle:{margin:"3px 0px 0px"}},[t.canBeSaved?i("div",{staticClass:"float-left",attrs:{id:"save_xml_btn"},on:{click:t.applyAnnotation}},[t._v("\n                Save\n              ")]):i("div",{staticClass:"float-left",attrs:{id:"save_xml_btn_disabled"}},[t._v("\n                Save\n              ")])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-3  clear-padding "},[e("h4",{staticClass:"shortcut-text-title"},[this._v("Shortcut keys")]),this._v(" "),e("ul",{staticClass:"shortcut-text-list"},[e("li",{staticClass:"shortcut-text-item"},[this._v("Ctrl+d: Hide/show unselected boxes")]),this._v(" "),e("li",{staticClass:"shortcut-text-item"},[this._v("Ctrl+w: Full-screen mode")]),this._v(" "),e("li",{staticClass:"shortcut-text-item"},[this._v("Space: Save changes")])])])}]};var gt=i("VU/8")(ut,dt,!1,function(t){i("RhP7")},"data-v-f9046b64",null).exports,_t=i("gRE1"),mt=i.n(_t),vt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-container"},[t._t("contents",[t._v("\n          default content\n        ")]),t._v(" "),i("div",{staticClass:"modal-footer"},[t._t("footer",[t._t("okbutton",[i("button",{staticClass:"modal-default-button",on:{click:function(e){t.$emit("ok")}}},[t._v("\n                OK\n              ")])]),t._v(" "),t._t("cancelbutton",[i("button",{staticClass:"modal-default-button",on:{click:function(e){t.$emit("cancel")}}},[t._v("\n                Cancel\n              ")])])])],2)],2)])])])},staticRenderFns:[]};var ht=i("VU/8")({},vt,!1,function(t){i("CHRi")},null,null).exports,ft={components:{"modal-box":ht},data:function(){return{TASK_ID:u,label:"",shortcut:"",edit_label:"",edit_shortcut:"",edit_target:"",edit_mode:!1,show_delete_dialog:!1,add_new_tag_button:i("Argu"),add_new_tag_button_disabled:i("f2gu"),tag_list_icon:i("OYjZ"),is_delete_mode:!1,delete_item_list:[]}},computed:l()({},Object(c.d)(["labels","current_task","labels_color","is_admin","active_image_tag_polygons"]),{errormsg:function(){if(this.label.length&&(!this.label.match("^[0-9a-z-A-Z]+$")||this.label.match(/-/)))return"Class name must be alphanumeric single-byte.";for(var t in mt()(this.labels)){var e=t.label,i=t.shortcut;if(e===this.label)return"Please set unique label.";if(this.shortcut&&i===this.shortcut)return"Shortcut is already exists."}return""},isValidLabel:function(){return!!this.label.length&&""===this.errormsg},updateErrormsg:function(){if(this.edit_label.length&&!this.edit_label.match("^[0-9a-z-A-Z]+$"))return"Class name must be alphanumeric single-byte.";for(var t in this.labels){if(this.edit_target[0]!==this.edit_label&&this.edit_label===this.labels[t].label&&""!==this.edit_target)return"Please set unique label.";if(this.edit_target[1]!==this.edit_shortcut&&this.edit_label===this.labels[t].shortcut&&""!==this.edit_shortcut&&""!==this.edit_target)return"Shortcut is already exists."}return""}}),methods:l()({},Object(c.c)(["current_task","setActiveboxLabel","setActivePolyLabel","addLabelToState","setObservedEvent"]),Object(c.b)(["addLabelToJson","deleteTaglist","updateLabel"]),{addNewLabel:function(){this.addLabelToJson({label:this.label,shortcut:this.shortcut}),this.label=this.shortcut="",document.body.focus()},isControlKey:function(t){return[13,32,8,9,46,37,38,39,40].indexOf(t)>=0},keydown:function(t){if(46===t.keyCode||8===t.keyCode)return this.shortcut="",void t.preventDefault();this.isControlKey(t.keyCode)||t.preventDefault(),13===t.keyCode&&""===this.errormsg&&this.addNewLabel()},setShortcutKey:function(t){this.isControlKey(t.keyCode)||(this.shortcut=t.key)},onClick:function(t){var e=t.currentTarget.dataset.label,i=t.currentTarget.dataset.key;this.current_task===this.TASK_ID.DETECTION?this.setActiveboxLabel({label:e}):this.current_task===this.TASK_ID.SEGMENTATION&&(this.setObservedEvent("set_label"),this.setActivePolyLabel({key:i,label:e}))},editToggle:function(){this.edit_mode=!this.edit_mode},editMode:function(t,e,i){var a=e,s=i,n=[a,s,!0];this.edit_label=a,this.edit_shortcut=s,this.edit_target=n},sendToUpdateLabel:function(t){13!==t.keyCode&&"edit_off"!=t||(""===this.updateErrormsg&&(""===this.edit_label&&(this.edit_label=this.edit_target[0]),this.updateLabel({edit_target:this.edit_target,dist_label:this.edit_label,dist_shortcut:this.edit_shortcut}),this.edit_target=""),document.body.focus())},updateShortcutKey:function(t){if(46===t.keyCode||8===t.keyCode)return this.shortcut="",this.edit_shortcut="",void t.preventDefault();this.isControlKey(t.keyCode)||(this.edit_shortcut=t.key)},deleteTags:function(t){var e={};t.filter(function(t){e[t.key]=t.name}),this.deleteTaglist({delete_item_obj:e}),this.delete_item_list=[],this.show_delete_dialog=!1,this.is_delete_mode=!1},getTagName:function(t){return t.length>12?t.slice(0,12)+"...":t},getLabelColor:function(t){var e=Number(t);return w(this.labels,this.labels_color,e)}})},pt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"tags"}},[t.is_admin?i("form",{attrs:{id:"add-new-label-form"}},[t.errormsg?i("div",{staticClass:"label_errormsg"},[t._v(t._s(t.errormsg))]):t._e(),t._v(" "),i("div",{staticClass:"add-new-label-input-area"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"label"}],staticClass:"label-text",attrs:{type:"text",placeholder:"tag name..."},domProps:{value:t.label},on:{input:function(e){e.target.composing||(t.label=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.shortcut,expression:"shortcut"}],staticClass:"label-shortcut",attrs:{type:"text",placeholder:"key..."},domProps:{value:t.shortcut},on:{keydown:t.keydown,keyup:t.setShortcutKey,input:function(e){e.target.composing||(t.shortcut=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"add-new-label-btn-wrapper"},[i("button",{staticClass:"add-new-label-btn",attrs:{disabled:!t.isValidLabel},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addNewLabel(e)}}},[t._v("\n      Add New Tag\n      ")])])]):t._e(),t._v(" "),i("div",{staticClass:"title",class:{top:!t.is_admin}},[i("div",{staticClass:"title-text"},[t._v("\n        Tag List\n        "),t.is_delete_mode?i("span",[t._v("delete mode")]):t._e()])]),t._v(" "),i("div",{attrs:{id:"tag-tree"}},[i("ul",{staticClass:"tag-list"},[t._l(t.labels,function(e,a){return i("li",{key:a,staticClass:"tag-list-item",attrs:{"data-label":e.label,"data-key":a},on:{click:t.onClick}},[i("div",{staticClass:"label-color",style:{background:t.getLabelColor(a)}}),t._v(" "),t.edit_target[0]===e.label&&!0===t.edit_mode?i("input",{directives:[{name:"model",rawName:"v-model",value:t.edit_label,expression:"edit_label"}],staticClass:"label-text-update",attrs:{type:"text",placeholder:"label name...",readonly:!t.is_admin},domProps:{value:t.edit_label},on:{keyup:t.sendToUpdateLabel,input:function(e){e.target.composing||(t.edit_label=e.target.value)}}}):i("div",{staticClass:"label-text"},[t._v(t._s(t.getTagName(e.label)))]),t._v(" "),t.edit_target[0]===e.label&&!0===t.edit_mode?i("input",{directives:[{name:"model",rawName:"v-model",value:t.edit_shortcut,expression:"edit_shortcut"}],staticClass:"label-shortcut-update",attrs:{type:"text",placeholder:"key..."},domProps:{value:t.edit_shortcut},on:{keydown:function(e){return e.stopPropagation(),e.preventDefault(),e.target!==e.currentTarget?null:t.sendToUpdateLabel(e)},keyup:function(e){return e.stopPropagation(),e.preventDefault(),e.target!==e.currentTarget?null:t.updateShortcutKey(e)},input:function(e){e.target.composing||(t.edit_shortcut=e.target.value)}}}):e.shortcut?i("div",{staticClass:"label-shortcut"},[t._v(t._s(e.shortcut))]):t._e(),t._v(" "),t.is_delete_mode?i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.delete_item_list,expression:"delete_item_list"}],staticClass:"label-check-box",attrs:{type:"checkbox"},domProps:{value:{name:e.label,key:a},checked:Array.isArray(t.delete_item_list)?t._i(t.delete_item_list,{name:e.label,key:a})>-1:t.delete_item_list},on:{change:function(i){var s=t.delete_item_list,n=i.target,o=!!n.checked;if(Array.isArray(s)){var r={name:e.label,key:a},l=t._i(s,r);n.checked?l<0&&(t.delete_item_list=s.concat([r])):l>-1&&(t.delete_item_list=s.slice(0,l).concat(s.slice(l+1)))}else t.delete_item_list=o}}})]):i("div",[t.edit_target[0]===e.label&&!0===t.edit_mode?i("img",{staticClass:"tag_list_icon",attrs:{src:t.tag_list_icon},on:{click:[function(e){t.sendToUpdateLabel("edit_off")},function(i){i.stopPropagation(),i.preventDefault(),t.editMode(a,e.label,e.shortcut),t.editToggle()}]}}):i("img",{staticClass:"tag_list_icon",attrs:{src:t.tag_list_icon},on:{click:function(i){i.stopPropagation(),i.preventDefault(),t.editMode(a,e.label,e.shortcut),t.editToggle()}}})])])}),t._v(" "),t.updateErrormsg?i("div",{staticClass:"label_errormsg"},[t._v(t._s(t.updateErrormsg))]):t._e()],2)]),t._v(" "),t.is_admin?i("div",[t.is_delete_mode?i("div",[i("button",{staticClass:"button",attrs:{disabled:0==t.delete_item_list.length},on:{click:function(e){t.show_delete_dialog=!0}}},[t._v("\n        Delete\n      ")]),t._v(" "),i("button",{staticClass:"button",on:{click:function(e){t.is_delete_mode=!1}}},[t._v("Cancel")])]):i("div",[i("button",{staticClass:"button",attrs:{id:"modify-mode-button"},on:{click:function(e){t.is_delete_mode=!0}}},[t._v("Delete Tag List")])])]):t._e(),t._v(" "),t.show_delete_dialog?i("modal-box",{on:{ok:function(e){t.deleteTags(t.delete_item_list)},cancel:function(e){t.show_delete_dialog=!1}}},[i("div",{staticClass:"modal-title",attrs:{slot:"contents"},slot:"contents"},[i("p",[t._v("Are you sure you want to delete this item(s)?")]),t._v(" "),i("ul",t._l(t.delete_item_list,function(e){return i("li",[t._v(t._s(e.name))])}))]),t._v(" "),i("span",{attrs:{slot:"okbutton"},slot:"okbutton"},[i("button",{staticClass:"modal-default-button",attrs:{id:"delete_labels_button"},on:{click:function(e){t.deleteTags(t.delete_item_list)}}},[i("fa-icon",{attrs:{icon:"fas fa-trash-alt"}}),t._v("\n        Delete\n        ")],1)])]):t._e()],1)},staticRenderFns:[]};var bt=i("VU/8")(ft,pt,!1,function(t){i("eCVt")},"data-v-3560c0b0",null).exports,yt={computed:l()({},Object(c.d)(["tagged_images","current_task"])),data:function(){return{TASK_ID:u}},methods:l()({},Object(c.b)(["loadCurrentImage"]),{ratio:function(t){return 125/t.height},imageWidth:function(t){var e=this.ratio(t);return t.width*e},drawPolygon:function(t,e){this.$nextTick(function(){var i=st.select("#poly"+e),a=i._groups[0][0].clientWidth,s=(i._groups[0][0].clientHeight,a/t.width),n=st.scaleLinear(),o=st.scaleLinear();i.selectAll(".polygon").remove(),t.polygons.forEach(function(t){i.append("polygon").data([t]).attr("points",function(t){return t.points.map(function(t){return[n(t.x*s),o(t.y*s)].join(",")}).join(" ")}).classed("polygon",!0).attr("stroke","#ccc").attr("stroke-width","0.75px").attr("fill","#ff0000").attr("fill-opacity","0.5")})})},boxStyles:function(t,e){var i=this.ratio(t);return{left:e.left*i+"px",top:e.top*i+"px",width:(e.right-e.left)*i+"px",height:(e.bottom-e.top)*i+"px"}},onClick:function(t){var e=t.currentTarget.dataset.filename;this.loadCurrentImage(e)}})},It={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"tagged-images"}},[i("div",{staticClass:"labelbox"},[i("div",{staticClass:"label_text"},[t._v("Images"),i("br"),t._v("+Tags"),i("br"),t._v(t._s(t.tagged_images.length))])]),t._v(" "),t._l(t.tagged_images,function(e,a){return i("div",{key:e.filename,staticClass:"tagged-image",style:{"background-image":"url("+e.image+")",width:t.imageWidth(e)+"px"},attrs:{"data-filename":e.filename},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(e)}}},[t.current_task===t.TASK_ID.SEGMENTATION?i("svg",{staticClass:"poly-canvas",attrs:{id:"poly"+a}},[t._v("\n      "+t._s(t.drawPolygon(e,a))+"\n    ")]):t._e(),t._v(" "),t._l(e.boxes,function(a,s){return t.current_task===t.TASK_ID.DETECTION?i("div",{key:s,staticClass:"image-box",style:t.boxStyles(e,a)},[i("div",{staticClass:"taglabel"},[t._v(t._s(a.label))])]):t._e()})],2)})],2)},staticRenderFns:[]};var xt={data:function(){return{version:"ver. 1.3.3 beta",url:i("z83m")}}},wt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("footer",[i("div",{staticClass:"col-md-12 clear-padding"},[i("div",{staticClass:"col-md-12 clear-padding footer-content"},[i("div",{staticClass:"col-md-3 clear-padding"},[i("div",{staticClass:"media-wrapper"},[i("div",{staticClass:"content-margin-top"},[i("p",{staticClass:"logo"},[i("img",{attrs:{src:t.url}})]),t._v(" "),i("p",{staticClass:"version"},[t._v("\n                ReNom TAG "+t._s(t.version)+"\n              ")])])])]),t._v(" "),i("div",{staticClass:"col-md-9 clear-padding"})])]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-12 copyright clear-padding"},[e("div",{staticClass:"col-md-12 align-middle clear-padding"},[e("div",{staticClass:"copyright-text"},[e("small",[this._v(" 2019 GRID INC. ALL rights reserved.")])])])])}]};var Ct={data:function(){return{make_dir_message_counter:0,ERROR:d,IMG_STATUS:g,NOTICE:_}},components:{"modal-box":ht,"app-header":h,"left-menu":P,"image-list":tt,tagcanvas:gt,tags:bt,"tagged-images":i("VU/8")(yt,It,!1,function(t){i("Oh8p")},"data-v-9b4edca8",null).exports,navarrow:at,"app-footer":i("VU/8")(xt,wt,!1,function(t){i("4u8M")},"data-v-01185073",null).exports},computed:l()({},Object(c.d)(["full_screen_mode","active_image_filename","error_status","notice_status","username","new_user","image_status","filtered_imagelist"]),{setNewUser:{get:function(){return this.new_user},set:function(t){this.addNewUser({new_user:t})}},isFullScreenMode:function(){return![null,void 0].includes(this.active_image_filename)&&this.full_screen_mode}}),methods:l()({},Object(c.c)(["setErrorStatus","setNoticeStatus","addNewUser"]),Object(c.b)(["initClient","makeDir"]),{messageCounter:function(){var t=this.make_dir_message_counter;t+=1,this.make_dir_message_counter=t},mkdir:function(){this.setNoticeStatus({code:115,message:"NOTICE\n\nCreating directories..."}),this.makeDir()},updateNoticeStatus:function(){var t=this.make_dir_message_counter;0===t?(this.setNoticeStatus({code:115,message:"NOTICE\n\nInput your username"}),this.messageCounter()):1===t?(this.mkdir(),this.messageCounter()):t>1&&location.reload()},clearNoticeStatus:function(){this.setNoticeStatus({code:null,message:""}),this.make_dir_message_counter=0},clearErrorStatus:function(){this.setErrorStatus({code:null,message:""})}}),created:function(){this.initClient()}},kt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"page"}},[t.isFullScreenMode?t._e():i("div",{attrs:{id:"all-elements"}},[i("app-header"),t._v(" "),i("div",{attrs:{id:"main-container"}},[i("left-menu"),t._v(" "),t.username?i("image-list",{staticClass:"folder-image"}):t._e(),t._v(" "),null!=t.active_image_filename?i("tagcanvas"):i("div",{staticClass:"filler",attrs:{id:"no_active_image"}},[t.username&&t.filtered_imagelist&&0!==t.filtered_imagelist.length?t._e():i("div",{attrs:{id:"loading"}},[t.image_status==t.IMG_STATUS.NO_IMG?i("div",{staticClass:"msg_no_image"},[t._v("\n            "+t._s(t.image_status.message)+"\n          ")]):t.image_status==t.IMG_STATUS.LOADING?i("div",{staticClass:"msg_no_image"},[i("div",{staticClass:"sk-wave"},[i("div",{staticClass:"sk-rect sk-rect1"}),t._v(" "),i("div",{staticClass:"sk-rect sk-rect2"}),t._v(" "),i("div",{staticClass:"sk-rect sk-rect3"}),t._v(" "),i("div",{staticClass:"sk-rect sk-rect4"}),t._v(" "),i("div",{staticClass:"sk-rect sk-rect5"})])]):t._e()])]),t._v(" "),i("tags")],1),t._v(" "),i("tagged-images",{staticClass:"row"}),t._v(" "),i("app-footer",{staticClass:"row"})],1),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.isFullScreenMode?i("div",{attrs:{id:"full-screen"}},[i("tagcanvas")],1):t._e()]),t._v(" "),t.notice_status.message?i("modal-box",[i("div",{staticClass:"mkdir-msg",attrs:{slot:"contents"},slot:"contents"},[t._v("\n      "+t._s(t.notice_status.message)+"\n      "),1===t.make_dir_message_counter?i("input",{directives:[{name:"model",rawName:"v-model",value:t.setNewUser,expression:"setNewUser"}],staticClass:"modal__contents__input",attrs:{type:"text"},domProps:{value:t.setNewUser},on:{input:function(e){e.target.composing||(t.setNewUser=e.target.value)}}}):t._e()]),t._v(" "),i("div",{attrs:{slot:"okbutton"},slot:"okbutton"},[t.make_dir_message_counter<=1?i("button",{staticClass:"ok-button",on:{click:function(e){t.updateNoticeStatus()}}},[t._v("\n        OK\n      ")]):t._e(),t._v(" "),t.make_dir_message_counter>1?i("button",{staticClass:"load-button",on:{click:function(e){t.updateNoticeStatus()}}},[t._v("\n        Load\n      ")]):t._e()]),t._v(" "),i("div",{attrs:{slot:"cancelbutton"},slot:"cancelbutton"},[t.make_dir_message_counter<=1?i("button",{staticClass:"cancel-button",on:{click:function(e){t.clearNoticeStatus()}}},[t._v("\n        Cancel\n      ")]):t._e()])]):t._e(),t._v(" "),t.error_status.message?i("modal-box",[i("div",{staticClass:"error-msg",attrs:{slot:"contents"},slot:"contents"},[t._v("\n      "+t._s(t.error_status.message)+"\n    ")]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("button",{staticClass:"error-button",on:{click:function(e){t.clearErrorStatus()}}},[t._v("close")])])]):t._e()],1)},staticRenderFns:[]};var St=i("VU/8")(Ct,kt,!1,function(t){i("s686")},null,null).exports;a.a.use(o.a);var Nt,Mt,Tt,Et,Ot,Lt=new o.a({routes:[{path:"/",name:"TaggerPage",component:St}]}),At={current_task:u.SEGMENTATION,is_admin:window.location.pathname.startsWith("/admin"),full_screen_mode:!1,main_menu_visible:!1,error_status:{code:null,message:""},notice_status:{code:null,message:""},image_status:g.LOADING,username:void 0,new_user:"user",user_list:[],folder_files:{},tag_filter:["notags"],review_filter:["notreviewed"],filter_method:"NoTags",filtered_imagelist:[],imagelist_max_display:0,active_image_filename:null,active_image:{},active_image_width:null,active_image_height:null,active_boxid:null,active_image_tag_boxes:[],active_polygonid:null,active_image_tag_polygons:[],active_image_review_result:null,active_image_comment_admin:null,active_image_comment_subord:null,labels:{},observed_event:null,labels_color:["#E7009A","#13894B","#8BAA1A","#582396","#0A20C4","#3E9AAF","#FFCC33","#9F14C1","#EF8200","#E94C33"],tagged_images:[],saved_pre_tag_boxes:[]},Dt=i("Xxa5"),jt=i.n(Dt),Pt=i("exGp"),zt=i.n(Pt),Gt=(Nt=zt()(jt.a.mark(function t(e,i){var a;return jt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=void 0,t.prev=1,t.next=4,i();case 4:a=t.sent,t.next=12;break;case 7:throw t.prev=7,t.t0=t.catch(1),e.commit("setErrorStatus",{error_status:d.SERVER_CONNECTION}),console.error(t.t0),t.t0;case 12:return t.abrupt("return",a);case 13:case"end":return t.stop()}},t,this,[[1,7]])})),function(t,e){return Nt.apply(this,arguments)}),Bt=(Mt=zt()(jt.a.mark(function t(e){var i,a,s;return jt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.commit("setImageStatus",{image_status:g.LOADING}),t.next=3,Gt(e,function(){return U.a.post(x("/api/get_filename_obj"),{username:e.state.username,task_id:e.state.current_task})});case 3:i=t.sent,e.commit("setFolderFiles",{folder_files:i.data.filename_obj}),i.data.undef_img_list.length>0&&(a=E(i.data.undef_img_list),e.commit("setErrorStatus",{code:d.UNDEF_FILE.code,message:a})),i.data.dup_img_list.length>0&&(s=O(i.data.dup_img_list),e.commit("setErrorStatus",{code:d.DUP_FILE.code,message:s})),e.state.filtered_imagelist.length>0&&e.dispatch("loadCurrentImage",e.state.filtered_imagelist[0]);case 8:case"end":return t.stop()}},t,this)})),function(t){return Mt.apply(this,arguments)}),Zt=(Tt=zt()(jt.a.mark(function t(e){var i;return jt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Gt(e,function(){return U.a.post(x("/api/load_label_candidates_dict"),{username:e.state.username,task_id:e.state.current_task})});case 2:i=t.sent,e.commit("setLabels",i.data);case 4:case"end":return t.stop()}},t,this)})),function(t){return Tt.apply(this,arguments)}),Rt=(Et=zt()(jt.a.mark(function t(e){var i;return jt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Gt(e,function(){return U.a.post(x("/api/load_annotated_images"),{username:e.state.username,task_id:e.state.current_task})});case 2:i=t.sent,e.commit("setTaggedImages",i.data.result);case 4:case"end":return t.stop()}},t,this)})),function(t){return Et.apply(this,arguments)}),Ht=(Ot=zt()(jt.a.mark(function t(e){var i,a,s,n,o,r,l,c;return jt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=e.state.active_image_filename,a=0,s=!0,n=!1,o=void 0,t.prev=5,r=p()(e.state.filtered_imagelist);case 7:if(s=(l=r.next()).done){t.next=15;break}if(c=l.value,i!==c){t.next=11;break}return t.abrupt("break",15);case 11:a+=1;case 12:s=!0,t.next=7;break;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(5),n=!0,o=t.t0;case 21:t.prev=21,t.prev=22,!s&&r.return&&r.return();case 24:if(t.prev=24,!n){t.next=27;break}throw o;case 27:return t.finish(24);case 28:return t.finish(21);case 29:a<e.state.filtered_imagelist.length-1?a+=1:a-=1,a>=0?e.dispatch("loadCurrentImage",e.state.filtered_imagelist[a]):e.commit("setActiveImage",{filename:"none"});case 31:case"end":return t.stop()}},t,this,[[5,17,21,29],[22,,24,28]])})),function(t){return Ot.apply(this,arguments)});function Ft(t,e){var i=t.state;if(e||(e={annotation:{path:i.active_image_filename,source:{database:"Unknown",reviewresult:null,comment:{admin:null,subord:null}},size:{width:i.active_image_width,height:i.active_image_height,depth:3},segments:0,objects:[]}}),e.annotation.source.reviewresult=i.active_image_review_result,e.annotation.source.comment.admin=i.active_image_comment_admin,e.annotation.source.comment.subord=i.active_image_comment_subord,e.annotation.objects=[],i.current_task===u.DETECTION){var a=!0,s=!1,n=void 0;try{for(var o,r=p()(i.active_image_tag_boxes);!(a=(o=r.next()).done);a=!0){var l=o.value,c={object:{name:l.label,pose:"Unspecified",truncated:0,difficult:0,bndbox:{xmin:l.left,xmax:l.right,ymin:l.top,ymax:l.bottom}}};e.annotation.objects.push(c)}}catch(t){s=!0,n=t}finally{try{!a&&r.return&&r.return()}finally{if(s)throw n}}}else if(i.current_task===u.SEGMENTATION){var d=!0,g=!1,_=void 0;try{for(var m,v=p()(i.active_image_tag_polygons);!(d=(m=v.next()).done);d=!0){var h=m.value,f={object:{name:h.label,labelid:h.label_id,pose:"Unspecified",truncated:0,difficult:0,points:h.points}};e.annotation.objects.push(f)}}catch(t){g=!0,_=t}finally{try{!d&&v.return&&v.return()}finally{if(g)throw _}}}return e}var Ut={loadUserList:function(t){var e=this;return zt()(jt.a.mark(function i(){var a;return jt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt(t,function(){return U.a.post(x("/api/userlist"),{username:t.state.username})});case 2:1===(a=e.sent).data.result?t.commit("setUserList",{user_list:a.data.user_list}):0===a.data.result&&t.commit("setNoticeStatus",{notice_status:_.MAKE_DIR.INITIAL});case 4:case"end":return e.stop()}},i,e)}))()},initClient:function(t,e){var i=this;return zt()(jt.a.mark(function a(){var s;return jt.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.dispatch("loadUserList");case 2:s=void 0,s=e||A.getItem("tags-username"),t.commit("setUsername",s),t.commit("setActiveImage",{filename:"none"}),t.commit("setFolderFiles",{folder_files:{}}),t.commit("setTaggedImages",null),Zt(t),Bt(t),Rt(t),A.setItem("tags-username",s,1/0);case 12:case"end":return i.stop()}},a,i)}))()},makeDir:function(t){var e=this;return zt()(jt.a.mark(function i(){var a,s,n,o;return jt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt(t,function(){return U.a.post(x("/api/make_dir"),{username:t.state.new_user})});case 2:null!==(a=e.sent).data.result&&(s=L(a.data.result),n=s.notice,o=s.error,n?t.commit("setNoticeStatus",{notice_status:n}):o&&t.commit("setErrorStatus",{error_status:o}));case 4:case"end":return e.stop()}},i,e)}))()},loadCurrentImage:function(t,e){var i=this;return zt()(jt.a.mark(function a(){var s;return jt.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Gt(t,function(){return U.a.get(x("/api/get_raw_img/"+t.state.username+"/"+e))});case 2:s=i.sent,t.commit("setActiveImage",{filename:e,width:s.data.width,height:s.data.height,image:"data:image;base64,"+s.data.img});case 4:case"end":return i.stop()}},a,i)}))()},addLabelToJson:function(t,e){var i=this;return zt()(jt.a.mark(function a(){return jt.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t.commit("addLabelToState",e),i.next=3,Gt(t,function(){return U.a.post(x("/api/save_label_candidates_dict"),{username:t.state.username,labels:t.state.labels,task_id:t.state.current_task})});case 3:case"end":return i.stop()}},a,i)}))()},deleteTaglist:function(t,e){var i=this;return zt()(jt.a.mark(function a(){var s,n,o,r;return jt.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:for(n in s=t.state.labels,e.delete_item_obj)delete s[n];return o={},r=0,mt()(s).forEach(function(t){o[r]=t,r+=1}),t.commit("setLabels",o),i.next=8,Gt(t,function(){return U.a.post(x("/api/save_label_candidates_dict"),{username:t.state.username,labels:t.state.labels,task_id:t.state.current_task})});case 8:case"end":return i.stop()}},a,i)}))()},updateLabel:function(t,e){var i=this;return zt()(jt.a.mark(function a(){var s,n;return jt.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:for(n in s=t.state.labels)s[n].label===e.edit_target[0]&&(s[n].label=e.dist_label,s[n].shortcut=e.dist_shortcut);return t.commit("setLabels",s),i.next=5,Gt(t,function(){return U.a.post(x("/api/save_label_candidates_dict"),{username:t.state.username,labels:t.state.labels,task_id:t.state.current_task})});case 5:case"end":return i.stop()}},a,i)}))()},deleteAnnotation:function(t){var e=this;return zt()(jt.a.mark(function i(){var a,s,n,o;return jt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state.active_image_filename,s=t.state.current_task,e.next=4,Gt(t,function(){return U.a.post(x("/api/delete_annotation"),{username:t.state.username,target_filename:a,task_id:s})});case 4:n=e.sent,o=!1,s===u.DETECTION?n.data.result===d.DELETION.XML.code?t.commit("setErrorStatus",{error_status:d.DELETION.XML}):o=!0:s===u.SEGMENTATION&&(n.data.xml_result===d.DELETION.XML.code||n.data.png_result===d.DELETION.PNG.code?(n.data.xml_result===d.DELETION.XML.code&&t.commit("setErrorStatus",{error_status:d.DELETION.XML}),n.data.png_result===d.DELETION.PNG.code&&t.commit("setErrorStatus",{error_status:d.DELETION.PNG})):o=!0),o&&(t.commit("deleteTaggedImage",{filename:a}),Ht(t),t.commit("updateFolderFile",{filename:a,info:null}));case 8:case"end":return e.stop()}},i,e)}))()},saveAnnotation:function(t){var e=this;return zt()(jt.a.mark(function i(){var a,s,n,o;return jt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state.current_task,s=null,n=t.state.active_image_filename,s=t.state.folder_files[n],s=Ft(t,s),e.next=7,Gt(t,function(){return U.a.post(x("/api/save_annotation"),{username:t.state.username,task_id:a,value:s})});case 7:o=e.sent,Ht(t),t.commit("updateFolderFile",{filename:n,info:o.data.result});case 10:case"end":return e.stop()}},i,e)}))()}},Wt=i("UjVw"),Kt=i.n(Wt);a.a.use(c.a);var Vt={state:At,actions:Ut,mutations:X,getters:Kt.a},Jt=new c.a.Store(Vt),Qt=(i("Jmt5"),i("9M+g"),i("e6fC"));i("xsZ7"),i("LGmM"),i("5W1q"),i("0lA4"),i("chq+"),a.a.config.productionTip=!1,a.a.use(Qt.a),new a.a({el:"#app",store:Jt,router:Lt,components:{App:n},template:"<App/>"})},OYjZ:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIwLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuODrOOCpOODpOODvF8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgODQxLjkgNTk1LjMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDg0MS45IDU5NS4zOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzY2NjY2Njt9Cjwvc3R5bGU+CjxnPgoJPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMTk0LjQiIGN5PSIyOTguNCIgcj0iNjEuMiIvPgoJPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iNDIxLjYiIGN5PSIyOTguNCIgcj0iNjEuMiIvPgoJPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iNjQ4LjgiIGN5PSIyOTguNCIgcj0iNjEuMiIvPgo8L2c+Cjwvc3ZnPgo="},Oh8p:function(t,e){},RhP7:function(t,e){},S3Ll:function(t,e){},SGZC:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIwLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuODrOOCpOODpOODvF8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgODQxLjkgNTk1LjMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDg0MS45IDU5NS4zOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6bm9uZTtzdHJva2U6IzFlMjY0YjtzdHJva2Utd2lkdGg6ODMuNTAzO3N0cm9rZS1taXRlcmxpbWl0OjEwO30KPC9zdHlsZT4KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjE3Mi4zIiB5MT0iNTQwLjciIHgyPSI2NzAiIHkyPSI1NiIvPgo8bGluZSBjbGFzcz0ic3QwIiB4MT0iMTc4LjgiIHkxPSI0OS40IiB4Mj0iNjYzLjUiIHkyPSI1NDcuMiIvPgo8L3N2Zz4K"},UjVw:function(t,e){},ZttH:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIwLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuODrOOCpOODpOODvF8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgODQxLjkgNTk1LjMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDg0MS45IDU5NS4zOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzBCMzU1RTt9Cgkuc3Qxe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxyZWN0IHg9IjE2MC4zIiB5PSIzNS4zIiBjbGFzcz0ic3QwIiB3aWR0aD0iNTIyLjMiIGhlaWdodD0iNTIyLjMiLz4KPGc+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMzg1LjEsNDI0LjRjMC0xMS44LDMuMi0yMC43LDkuNS0yNi44YzYuMy02LDE1LjUtOS4xLDI3LjYtOS4xYzExLjcsMCwyMC43LDMuMSwyNy4xLDkuMwoJCQljNi40LDYuMiw5LjYsMTUuMSw5LjYsMjYuNmMwLDExLjEtMy4yLDE5LjktOS43LDI2LjNjLTYuNSw2LjQtMTUuNSw5LjYtMjcsOS42Yy0xMS44LDAtMjEtMy4xLTI3LjQtOS40CgkJCUMzODguMyw0NDQuNiwzODUuMSw0MzUuOCwzODUuMSw0MjQuNHogTTQ0OC4yLDM1Mi4yaC01MS41bC0xMC44LTIwNi4yaDczTDQ0OC4yLDM1Mi4yeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo="},bpzI:function(t,e){},"chq+":function(t,e){},"e+Q9":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIwLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuODrOOCpOODpOODvF8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgODQxLjkgNTk1LjMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDg0MS45IDU5NS4zOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6bm9uZTtzdHJva2U6I0ZGRkZGRjtzdHJva2Utd2lkdGg6OTMuMTM4ODtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9Cjwvc3R5bGU+CjxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjQyMS41IiBjeT0iMjk4LjIiIHI9IjIzMy4zIi8+Cjwvc3ZnPgo="},eCVt:function(t,e){},f2gu:function(t,e,i){t.exports=i.p+"static/img/addnewtag_disabled.de820d7.png"},fGH6:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAAPElEQVQ4je3UMREAIBDEwA+DACTgXxU4wEEwcQUFKyBlUK0QgF5VOxX8HoV6YjEYLRX7Hoa6YjGYpPd1AYY0EOxJcn82AAAAAElFTkSuQmCC"},nhrO:function(t,e){},s686:function(t,e){},t9t8:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIwLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuODrOOCpOODpOODvF8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgODQxLjkgNTk1LjMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDg0MS45IDU5NS4zOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxnPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MzEuMiw1MzJjLTE4LjgsMC0zMy45LTUuNC00NC44LTE1LjljLTExLTEwLjctMTYuNi0yNS40LTE2LjYtNDMuOWMwLTE5LDUuNS0zNCwxNi40LTQ0LjQKCQkJCWMxMC43LTEwLjIsMjUuOS0xNS40LDQ1LTE1LjRjMTguNiwwLDMzLjYsNS4zLDQ0LjQsMTUuOGMxMC45LDEwLjYsMTYuNSwyNS40LDE2LjUsNDRjMCwxOC01LjYsMzIuNy0xNi41LDQzLjUKCQkJCUM0NjQuNyw1MjYuNSw0NDkuOCw1MzIsNDMxLjIsNTMyeiBNNDc3LjQsMzYxaC05MS44TDM3MC4yLDY2LjFoMTIyLjZMNDc3LjQsMzYxeiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8L3N2Zz4K"},vJAC:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIwLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuODrOOCpOODpOODvF8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgODQxLjkgNTk1LjMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDg0MS45IDU5NS4zOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6bm9uZTtzdHJva2U6I0ZGRkZGRjtzdHJva2Utd2lkdGg6ODMuNTAzO3N0cm9rZS1taXRlcmxpbWl0OjEwO30KPC9zdHlsZT4KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjE3Mi4zIiB5MT0iNTQwLjciIHgyPSI2NzAiIHkyPSI1NiIvPgo8bGluZSBjbGFzcz0ic3QwIiB4MT0iMTc4LjgiIHkxPSI0OS40IiB4Mj0iNjYzLjUiIHkyPSI1NDcuMiIvPgo8L3N2Zz4K"},wzf6:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIwLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuODrOOCpOODpOODvF8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgODQxLjkgNTk1LjMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDg0MS45IDU5NS4zOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0U2MUYyMTt9Cgkuc3Qxe2ZpbGw6bm9uZTtzdHJva2U6I0ZDRkRGRDtzdHJva2Utd2lkdGg6NDIuMjU1MTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9Cjwvc3R5bGU+CjxyZWN0IHg9IjEzNy42IiB5PSIyMC45IiBjbGFzcz0ic3QwIiB3aWR0aD0iNTU1IiBoZWlnaHQ9IjU1NSIvPgo8bGluZSBjbGFzcz0ic3QxIiB4MT0iMjkyLjQiIHkxPSI0MTcuOCIgeDI9IjUzNy43IiB5Mj0iMTc5Ii8+CjxsaW5lIGNsYXNzPSJzdDEiIHgxPSIyOTUuNiIgeTE9IjE3NS44IiB4Mj0iNTM0LjQiIHkyPSI0MjEiLz4KPC9zdmc+Cg=="},xsZ7:function(t,e){},z83m:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAgCAYAAACCXeM8AAAJoUlEQVR4nO2cbbBWVRXHf+vyliBqCQqGvSBCYhTWVJiAplPiW6XmpOXLDDaF09BIplNONkylkY1K9UFyDENE1JBRAjUh8IomJA0lWoogF4JALiIvInjl8u/DPk+de56993nOc5/7wo3/zPlw11lr7bXPWc/ea629zjU6MSTtAI6sQnQn8BrwPPAQsNjMVEvbKoGkEcDSCMseYKiZ7YnoWAqM8NyaYmZTWmniIdQCknaoNnhR0qkdYP/ICmy7KkfH3wJyk9tpGp0CdR1tQDvhZKBe0rkdbYgHV3e0AQcD/l8cFaAH8ICkgR1tSAZjJA3taCM6Ow5mR30WqE+u54A1QF4c2he4to3tqgbjO9qAQ2gFFI9Rj/LwD5B0R05M+I92tL+SGFWSNkvqHtBxKEbl4F5Ry2BmW8xsEvDrCNtJkvq2l00VYgDQGePnTgPvr7gESe8Bjgb2mNmOageR1Ac4AthtZm9Vq6cAfgZMjNw/FtgdUyDpROA84BRgEFBawbcDDcAzwKOteS4ZXA3Mq5EuACR1A84AzgKGA8cAvXEh0lZgHS5smmdmb+boGgYc5rnVaGabUjyXAp8ABgIGbAb+AtxrZhsyOuuAcbjnPAzoB7yJC+MeBx4xswMhg4ZL+pWkVzNbTaOk+yWNjT6d/+kZJWm6pH9l9GyX9KCkcRXoKLT1Z2T/HZH11SVLcoMlzYvIpvGWpB8pvG1XuvVL0ruSBnh0VLX1S/qKpDUVjr1H0hS5hSmkL2THVEm9Jd0l6UBkjCZJE1P6hktamWPXSkmDsob0knPQ5gomtkhuxfFNqLecg1aCp8oMaamrNY66PiJ7fEDmzJwxQ1ggqadHX8xRd3loN3h0FHZU5cfpITwjqXdAZ8iOaZKWFBjjq5I+KLfwVYIVKi0Ekg6TtLjAYJJbTS7LTKa/pOUF9WxVYIVTlY4qqaekdyJ2l8Xmkk6QtLug7Wnc4dEZc9RpHtorBRxkcmDu323FHCTpdwG9ITuaCupfK+nRgjJfKxnxm4KCadyQctJVVerYIOmIGjrqeRG5xwMyCyIyv5c0UdJNKg+JStgvaXABRz1D0l4PfXS1jippUECn5H6gU5N5TJO0L2LbJws4ahpN8u8UMexWeFEp4ZHSw/TFFsslXSfpQknjJc2PKPqpwk66SNKERM/lkmbJvdQsflELR5UrUa2OyF3kkflohP97Gd6+Csd+UzK8MUcdKek+D316Kxz11gDvfmWcT9I5EdvuKeioO+Xebc+E91OStkT4JWmppJMT/p6SbozwbkIuCM5isiTzGHuqwitKFs1KBc8ZPWOSyaXxhjJxnuKO+jFJH0quIXLx5c1yyVoICwPz+nGAf538YcK3A/wrM3x5jnqWh75HqfKZijlqKC5/IPAeng7wNyrznCJ2SNLlHt2TIvyvy1MilPRygH8/khoyxHrfpFLKjlR+PNss6es5er7pkRuZ4alVU4ok1Ut6b8CW0HzuCvCPCPA3S+qR4stz1DqVP39J+kZKR0WOKpeghFDmSInM9yMyQzK8ITv2yp9Inh3RfWfAnodDAnW4GmEac3xKSjCzncD5wNMBlgPAlWY2K6YHWOShHZsjUxQC/oqrUZ4ZqRV+JEBfH6BvCdB9zzOIpEZYts1SXaNKaA4ALwXoL0ZkhkTupbHJzJo89HciMq8F6MHadh2uKJtGtxzDStgboG/BncPnwdccUqvieQnbcA+licC8ktWgrH6Z4ICko7IX0BwZ8/0FbZxBeY/CKEnDC+qJOermAL0hIjM4ci+Nag5w3i0qUAesztC+EBOQdBywEDg7wHIc8GdJp+eMnQ0NBLyaI1MU/YFLgJnAqux2luIpi1sT3II7Kcleb0TGfF8RA82sAVjsuVV0VY2Nuy9A3xaR6V9w/DZFHa77KI1zJF2v8mD6cEnX4raLz+boHQgskSs898velIvBJmTIy81sewHbbwQmpa4fAHMJr3ZDgbkqT456+JhbgeixdADTPbQrlIp3K0DsS4jQChZyYIBeBcZuc3QH7ga+laHfCkyUtAy3xX8AGAWEjtgeBr5Iy5duuJa6ayQtxDl4b+B04OMeHb8saPudvnN2SacBf8L/oEfgmj/mp2jRE64qUFYPrgBzcZ/PpJ2tP+6ZVoo+oRuxT10i8J5QdRS6m9kKSTOBKzL3jk+uGA4A15vZ7ZI+h3PYbGbdC5d8nR/RsxR4sHKzwzCzZ5OsMtR3+nlaOmqsOeV5oGhb4JqC/JjZPkmzKd9livSpvh26IamHmRWNC30JUoehtE1NwGV5Rb4r2gxcZWYLAcxsiaRTgPuA0VHJlngJuLjGH98tIOyoJ2X+jiVG95vZ1NqYlIvfUu6o44jHw2nEsuw++BPVWOIcdPyOQB2Amb2NawW7nfyMbAdwMzCs5KQlmNl6YCwuEWjI0dOMezmnmVljYcvjCJWVoLzasKvGY1cFM1tBebmojsqTmtg8Qn3HZflDCpX+QNoF/w38zWwvcJ1cc8UlwKdxGXw3nHO+jNuin0x4vUhWxumSZuAqAxfg+hP74371G3EJ3GwzW9sWkyK+urQITcxsuyThz/y9LzJJyG7yyDSZ2S1FDM3gHuC2KmVjP85jcH20PnoIDVXa0SYoy1DNbCNQ1glUFGbWDDyWXO2N2OpyuIe2CX+hPnQAMRSY7KE34Epa1WImMIXqKhGhIjrACbiFJotY7bXdPtmpBF3qU5QUYnGnz1FfCPCGasFjAvR1kXFzkYRA83MZ/ViFS259COUMofltp5VzqTW6pKOaWSyT7yYpW7p6IsB7ojL/C0Du845sOa+EpyqzMApfTTUXZrYLWB64PV6ZJpDk4ObLAf75wU9AOghd0lETxB50ttY5m3Dx+15JF0vqJ9eWNhMo69fEnaw9VNzMMjxBuJcgD76+AXCx6GOSPpPMYyzwB8K1V2/TSEeiKzvqzsi9o9N/mNk24OcR3jlAIy4rvyzAN9vMfHFgIZjZftz5fzWYQfmReAmjgWW4edTjElwfZpvZsirHbzN0ZUfdGrnnS5x+QvVfga4FvlOlrA+hlTGKpIvpUqovuf0duKZK2TZFV3bUsu+PUvhSlpBUKS7C1YiLnOL8ERhtZjWrO5rZK1TWgeaTXYlL9lYVFJ0JjE3aODsdqmmgaE9sIHx2nhfs342/pwDgXEkLzKxFEpU46w8lTQOuxB2CDMUdEnQD9uNCitW47+HnmNlzERsaCfcw5B1yTCZ+7Bzcns3sBbkm9AuAC3Ex9YdpGZO+jptHPe4E7p859szCnyxuCvBvJDz3lQH6kwRaPf8D//BepPlg7b8AAAAASUVORK5CYII="},zi1N:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.98bf92ba3009cdcbb50f.js.map